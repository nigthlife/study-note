function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={},t={},A={};Object.defineProperty(A,"__esModule",{value:!0});var o=!0,i=A.default=function(){return o&&(o="undefined"==typeof window),o};!function(n){var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.asyncCanUseAvif=n.canUseAvif=n.setAvif=void 0;var o,i=t(A);n.setAvif=function(e){o=e},n.canUseAvif=function(){return!(0,i.default)()&&void 0!==o&&o},n.asyncCanUseAvif=function(){return new Promise(function(e){if((0,i.default)())return e(!1);if((0,n.canUseAvif)())return e(!0);var t=new Image;t.onerror=function(){(0,n.setAvif)(!1),e(!1)},t.onload=function(){(0,n.setAvif)(!0),e(!0)},t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="})}}(t);var r={};!function(n){var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.asyncCanUseWebP=n.canUseWebP=n.setWebp=void 0;var o,i=t(A);n.setWebp=function(e){o=e},n.canUseWebP=function(){var e,n,t,A;if((0,i.default)())return!1;if(void 0!==o)return o;try{if("undefined"!=typeof navigator&&/Firefox\/(\d+)/i.test(navigator.userAgent))return o=Number((null===(e=navigator.userAgent.match(/Firefox\/(\d+)/i))||void 0===e?void 0:e[1])||"0")>=65;var r=document.createElement("canvas");o=!!(null===(n=r.getContext)||void 0===n?void 0:n.call(r,"2d"))&&0===(null===(A=null===(t=r.toDataURL)||void 0===t?void 0:t.call(r,"image/webp"))||void 0===A?void 0:A.indexOf("data:image/webp"))}catch(e){o=!1}return o},n.asyncCanUseWebP=function(){return new Promise(function(e){if((0,i.default)())return e(!1);if((0,n.canUseWebP)())return e(!0);var t=new Image;t.onerror=function(){(0,n.setWebp)(!1),e(!1)},t.onload=function(){(0,n.setWebp)(!0),e(!0)},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="})}}(r);var a={},u=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var f=u(A);a.default=function(){return!(0,f.default)()&&!!window.HTMLPictureElement},function(n){var A=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.autoDetectAll=n.autoDetect=n.canUseHtmlPictureElement=n.canUseWebP=n.setWebp=n.canUseAvif=n.setAvif=void 0;var o=t;Object.defineProperty(n,"canUseAvif",{enumerable:!0,get:function(){return o.canUseAvif}}),Object.defineProperty(n,"setAvif",{enumerable:!0,get:function(){return o.setAvif}});var i=r;Object.defineProperty(n,"canUseWebP",{enumerable:!0,get:function(){return i.canUseWebP}}),Object.defineProperty(n,"setWebp",{enumerable:!0,get:function(){return i.setWebp}});var u=A(a);n.canUseHtmlPictureElement=u.default,n.autoDetect=function(e){void 0===e&&(e=["webp"]);for(var n=0;n<e.length;n++){if("avif"===e[n]&&(0,o.canUseAvif)())return e[n];if("webp"===e[n]&&(0,i.canUseWebP)())return e[n]}return""},n.autoDetectAll=function(){return new Promise(function(e){Promise.all([(0,o.asyncCanUseAvif)(),(0,i.asyncCanUseWebP)()]).then(function(n){var t=n[0],A=n[1];e({avif:t,webp:A})})})}}(n);var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){return e?e.replace(/^http(s)?:/,""):""};var l={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isInt=e.isNum=void 0,e.isNum=function(e){return"number"==typeof e},e.isInt=function(n){return(0,e.isNum)(n)&&(0|n)===n}}(l);var d={};Object.defineProperty(d,"__esModule",{value:!0});var s=/\.(jpeg|jpg|png|webp|gif|avif)$/;d.default=function(e){var n;return(null===(n=e.match(s))||void 0===n?void 0:n[0])||null},function(n){var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBmgSrc=n.isSupportBmgFormat=void 0;var o=t(c),i=t(A),r=l,a=t(d);n.isSupportBmgFormat=function(e){return!!function(e){return!!/\/bfs\//.test(e)}(e)&&!!(0,a.default)(e)};var u=function(e){return"number"!=typeof e||isNaN(e)?0:Math.floor(e)||0};n.getBmgSrc=function(e,t){var A;if(void 0===t&&(t={c:!0}),!e||"string"!=typeof e)return"";if(!(0,n.isSupportBmgFormat)(e))return e;if(e.indexOf("@")>-1){if(t.cache)return e;e=e.split("@")[0]}e=e.replace("pre-","");var a=t.dpr||((0,i.default)()?2:Math.floor(null!==(A=null===window||void 0===window?void 0:window.devicePixelRatio)&&void 0!==A?A:2)||1),f=[];t.w&&(0,r.isInt)(t.w)&&f.push("".concat(Math.floor(t.w*a),"w")),t.h&&(0,r.isInt)(t.h)&&f.push("".concat(Math.floor(t.h*a),"h")),t.e&&f.push("".concat(t.e,"e")),t.c&&f.push("1c"),t.a&&f.push("".concat([u(t.a.x),u(t.a.y),u(t.a.w)*a,u(t.a.h)*a].join("-"),"a")),t.p&&(0,r.isInt)(t.p)&&f.push("".concat(t.p,"p")),t.s&&f.push("1s"),t.q&&(0,r.isInt)(t.q)&&f.push("".concat(t.q,"q")),t.style&&f.push("!".concat(t.style));var c="";return t.ext&&["webp","avif"].includes(t.ext)&&(c=t.ext),0!==f.length||c?"".concat((0,o.default)(e),"@").concat(f.join("_")).concat(c?".".concat(c):""):e}}({});var v,p,b,w={};function y(e){return(y="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}Object.defineProperty(w,"__esModule",{value:!0});var m="__BMG_TRACKER_COLLECT_QUEUE__",_="__BMG_TRACKER_COLLECT_EXTS__",g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},B={};Object.defineProperty(B,"__esModule",{value:!0});var h=!0,W=B.default=function(){return h&&(h="undefined"==typeof window),h},P={};Object.defineProperty(P,"__esModule",{value:!0});var U=/\.(jpeg|jpg|png|webp|gif|avif)$/,E=P.default=function(e){var n;return(null===(n=e.match(U))||void 0===n?void 0:n[0])||null},j={};!function(e){var n=g&&g.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseAvif=e.canUseAvif=e.setAvif=void 0;var t,A=n(B);e.setAvif=function(e){t=e},e.canUseAvif=function(){return!(0,A.default)()&&void 0!==t&&t},e.asyncCanUseAvif=function(){return new Promise(function(n){if((0,A.default)())return n(!1);if((0,e.canUseAvif)())return n(!0);var t=new Image;t.onerror=function(){(0,e.setAvif)(!1),n(!1)},t.onload=function(){(0,e.setAvif)(!0),n(!0)},t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="})}}(j);var M={};!function(e){var n=g&&g.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseWebP=e.canUseWebP=e.setWebp=void 0;var t,A=n(B);e.setWebp=function(e){t=e},e.canUseWebP=function(){var e,n,o,i;if((0,A.default)())return!1;if(void 0!==t)return t;try{if("undefined"!=typeof navigator&&/Firefox\/(\d+)/i.test(navigator.userAgent))return t=Number((null===(e=navigator.userAgent.match(/Firefox\/(\d+)/i))||void 0===e?void 0:e[1])||"0")>=65;var r=document.createElement("canvas");t=!!(null===(n=r.getContext)||void 0===n?void 0:n.call(r,"2d"))&&0===(null===(i=null===(o=r.toDataURL)||void 0===o?void 0:o.call(r,"image/webp"))||void 0===i?void 0:i.indexOf("data:image/webp"))}catch(e){t=!1}return t},e.asyncCanUseWebP=function(){return new Promise(function(n){if((0,A.default)())return n(!1);if((0,e.canUseWebP)())return n(!0);var t=new Image;t.onerror=function(){(0,e.setWebp)(!1),n(!1)},t.onload=function(){(0,e.setWebp)(!0),n(!0)},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="})}}(M);var x="BMG_EXTS",C=null,D=function(){if(C)return C;try{C=(localStorage.getItem(x)||"").split(",")}catch(e){console.warn(e),C=[]}return C},O=function(e){if(void 0===e&&(e=!1),!window[_]||e){var n=D();window[_]={avif:n.includes("avif"),webp:n.includes("webp")}}},G=function(e){return function(n){switch(function(){var e=[],n=window[_]||{avif:!1,webp:!1};n.avif&&e.push("avif"),n.webp&&e.push("webp");try{localStorage.setItem(x,e.join(","))}catch(e){console.warn(e)}}(),e){case"avif":j.setAvif(n);break;case"webp":M.setWebp(n)}}},I=function(e){var n;"object"!=y(window[_])&&O(),(null===(n=window[_])||void 0===n?void 0:n[e])||(window[_][e]=!0,G(e)(!0))};w.collect=function(e,n,t){if(!W()){var A=W()?null:window.__BMG_TRACKER__||null,o=(E(e)||"").substring(1);if(["avif","webp"].indexOf(o)>-1&&I(o),"onlyext"!==t)if(A)A.collect(e,n);else if("nocache"!==t){var i={src:e,type:n,ts:Date.now()/1e3|0};Array.isArray(window[m])?window[m].push(i):window[m]=[i]}}},w.getLocalExtsState=D,b=w.getWindowExtsState=function(e){var n,t;return"avif"===e?(null===(n=window[_])||void 0===n?void 0:n.avif)||!1:"webp"===e?(null===(t=window[_])||void 0===t?void 0:t.webp)||!1:window[_]||null},p=w.initWindowExtsState=O,w.updateExtState=G,v=w.updateWindowExtsState=I;var S="onBmgDetectDone";(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(t){var A=function(e){e.avif&&v("avif"),e.webp&&v("webp"),t(e)};if(i())A({avif:!1,webp:!1});else{if(e){var o=b();if(o&&"object"==_typeof(o))return void A({webp:o.webp||!1,avif:o.avif||!1})}if(p(),b("avif")||b("webp"))return A(b());n.autoDetectAll().then(A)}})})(!1).then(function(e){"function"==typeof window[S]&&window[S](e)})});