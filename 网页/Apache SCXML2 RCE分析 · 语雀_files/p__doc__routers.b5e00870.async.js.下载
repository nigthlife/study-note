/*! For license information please see p__doc__routers.b5e00870.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[43,495,501,618,645,705,736,1030],{1595:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-exclamationcircle",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 20c-50.81 0-92 41.19-92 92s41.19 92 92 92 92-41.19 92-92-41.19-92-92-92Zm0 132c7.732 0 14 6.268 14 14s-6.268 14-14 14-14-6.268-14-14 6.268-14 14-14Zm0-98c5.523 0 10 4.477 10 10v64c0 5.523-4.477 10-10 10s-10-4.477-10-10V80c0-5.523 4.477-10 10-10Z",fill:"currentColor",fillRule:"nonzero"}))},1596:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-right-arrow",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"m169.564 58.012.215.209 48.99 48.99c11.599 11.598 11.715 30.331.348 42.072l-.348.354-48.99 48.99c-3.905 3.905-10.237 3.905-14.142 0-3.834-3.834-3.904-10.008-.21-13.927l.21-.215L202.121 138H38c-5.523 0-10-4.477-10-10s4.477-10 10-10h163.274l-45.637-45.637c-3.905-3.905-3.905-10.237 0-14.142 3.834-3.834 10.008-3.904 13.927-.21Z",fill:"currentColor",fillRule:"nonzero"}))},1597:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-icon-dataflow",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("path",{id:"3571855244a",d:"M0 0h16v16H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"3571855244b",fill:"#fff"},n.createElement("use",{xlinkHref:"#3571855244a"})),n.createElement("path",{d:"M11.5 2A2.5 2.5 0 0 1 14 4.5v7a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7A2.5 2.5 0 0 1 4.5 2h7ZM7.417 4l-.053.007s-.302.005-.445.005c-.143 0-.187.138-.187.138L5.838 8.69l-.318-.962c-.03-.109-.136-.123-.26-.119l-2.052.007A.205.205 0 0 0 3 7.817v.405c0 .111.093.202.208.202h1.65l.61 1.85c.031.108.148.172.262.143l.324-.004c.11.028.236-.06.265-.164l.916-4.181 1.208 5.787c.029.104.14.166.247.138 0 0 .22-.003.35-.003.13 0 .15-.234.15-.234l.974-4.438.311.96c.03.108.144.172.255.143l2.062.003c.115 0 .208-.09.208-.202v-.405a.205.205 0 0 0-.208-.202h-1.66l-.607-1.877a.209.209 0 0 0-.255-.143l-.356.004c-.108-.028-.192.06-.221.164l-.885 4.125L7.61 4.145a.202.202 0 0 0-.247-.138Z",fill:"#81B3F8",mask:"url(#3571855244b)"})))},1598:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-icon-member",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("path",{id:"1312601950a",d:"M0 0h16v16H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"1312601950b",fill:"#fff"},n.createElement("use",{xlinkHref:"#1312601950a"})),n.createElement("g",{mask:"url(#1312601950b)",fill:"#3BCBE8",fillRule:"nonzero"},n.createElement("path",{d:"M2.398 5.25c0-1.519 1.274-2.75 2.847-2.75 1.572 0 2.846 1.231 2.846 2.75S6.817 8 5.245 8 2.398 6.769 2.398 5.25Zm3.913 7.584v-.19c0-1.402.741-2.634 1.859-3.36a3.765 3.765 0 0 0-1.62-.367H4.177C2.147 8.917.5 10.507.5 12.468v.23c0 .802 1.646.802 3.677.802h2.269a1.598 1.598 0 0 1-.135-.666Zm5.053-8.465c-1.304 0-2.362 1.021-2.362 2.282 0 1.261 1.058 2.283 2.362 2.283 1.305 0 2.363-1.022 2.363-2.283 0-1.26-1.057-2.282-2.363-2.282Zm0 0c-1.304 0-2.362 1.021-2.362 2.282 0 1.261 1.058 2.283 2.362 2.283 1.305 0 2.363-1.022 2.363-2.283 0-1.26-1.057-2.282-2.363-2.282Zm-.884 5.327c-1.686 0-3.053 1.32-3.053 2.948v.19c0 .665 1.367.665 3.053.665h1.969c1.685 0 3.051-.024 3.051-.665v-.19c0-1.629-1.366-2.948-3.051-2.948h-1.97Z"}))))},1885:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-editor-vertical-align-top",e.className].filter(Boolean).join(" "),width:"1em",height:"1em"}),n.createElement("path",{d:"M119.037 70.245c5.85-4.875 14.501-4.17 19.49 1.526l.228.267 18.927 22.712.186.23c3.328 4.237 2.7 10.382-1.466 13.854-4.167 3.473-10.324 2.982-13.892-1.056l-.192-.224-4.318-5.181v115.98l-.004.28c-.148 5.394-4.567 9.72-9.996 9.72-5.523 0-10-4.477-10-10v-115.98l-4.318 5.18-.192.225a10 10 0 0 1-13.663 1.242l-.229-.186-.224-.192a10 10 0 0 1-1.242-13.663l.186-.229 18.927-22.712.332-.385a14 14 0 0 1 1.46-1.408ZM216 28c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L216 48H40c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L40 28h176Z",fill:"currentColor",fillRule:"nonzero"}))},1886:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-icon-reduce-disable",e.className].filter(Boolean).join(" ")}),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M0 0h20v20H0z"}),n.createElement("rect",{fill:"currentColor",x:4,y:9,width:12,height:2,rx:1})))},1887:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-icon-add-light",e.className].filter(Boolean).join(" ")}),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M0 0h20v20H0z"}),n.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 0 1 0-2h4V5a1 1 0 0 1 1-1Z",fill:"currentColor"})))},3123:function(e,t,r){"use strict";r(3460);var n=r(121);t.a=n.b},3124:function(e,t,r){var n=r(3236)("floor");e.exports=n},3157:function(e,t,r){"use strict";r(95);var n=r(38),a=r(0),o=r.n(a),i=r(8),c=r.n(i),u=r(11),l=r.n(u),s=r(32),f=r(31),m="badgeIcon-module_container_xawzG",d="badgeIcon-module_icon_qa6QH",p=function(e){var t=e.isYuque,r=e.organization,a=e.user,i=e.className,c=e.size;if(t&&!a.isPaid||r)return null;var u=a.memberLevelName,p=a.member_level,h="icon-member-level-".concat(p);return o.a.createElement("div",{className:l()(m,i),"data-testid":"badge-lite"},o.a.createElement(n.a,{title:u},o.a.createElement("a",{className:d,href:t?s.LINKS.EXTERNAL_MEMBER_INTRO_LINK:s.LINKS.INTERNAL_MEMBER_INTRO_LINK,target:"_blank"},!window.h5&&o.a.createElement(f.b,{name:h,width:c,height:c}))))};p.defaultProps={isYuque:window.appData.isYuque,organization:window.appData.organization,size:32},p.propTypes={isYuque:c.a.bool,organization:c.a.object,user:c.a.object.isRequired,className:c.a.string,size:c.a.number};t.a=p},3158:function(e,t,r){"use strict";r.d(t,"c",(function(){return fe})),r.d(t,"e",(function(){return Ie})),r.d(t,"h",(function(){return Re.a})),r.d(t,"b",(function(){return Ve.a})),r.d(t,"a",(function(){return qe.a})),r.d(t,"j",(function(){return lt})),r.d(t,"g",(function(){return Nt})),r.d(t,"l",(function(){return ar})),r.d(t,"i",(function(){return Xr})),r.d(t,"k",(function(){return an})),r.d(t,"f",(function(){return On})),r.d(t,"d",(function(){return xn.a}));r(906),r(61);var n=r(23),a=(r(223),r(77)),o=(r(236),r(60)),i=r(0),c=r.n(i),u=r(8),l=r.n(u),s=r(29),f=r.n(s),m=r(32),d=r(71),p=r(54),h=r.n(p),v=r(27),y=r(31),b=r(347),_=r(176),g=r(41),w=r(132),E=r(3162),O=r(239),x=r(53),S=r(628),N=(r(84),r(45)),L=(r(368),r(85)),j=(r(98),r(37)),k=(r(55),r(22)),P=r(35),T=r(3160),I=r.n(T),R={title:"index-module_title_INHx3",help:"index-module_help_AVFYJ",tip:"index-module_tip_T1jyO",errMessage:"index-module_errMessage_nSIYH",form:"index-module_form_W9V8N",footer:"index-module_footer_G0PQG",submitBtn:"index-module_submitBtn_+TZ+Q"};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var h={};u(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(h=y);var b=p.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==M(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new g(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function C(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=function(e){var t=e.usage,r=e.appData,n=B(Object(i.useState)(!1),2),a=n[0],o=n[1],c=B(Object(i.useState)(""),2),u=c[0],l=c[1],s=B(Object(i.useState)(""),2),f=s[0],m=s[1],d="",p=function(){var e,n=(e=A().mark((function e(){var n,a,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={code:I()(f)},e.t0=t,e.next="member"===e.t0?4:"group"===e.t0?7:"organization"===e.t0?10:13;break;case 4:return n.user_id=r.me.id,d=__("语雀会员"),e.abrupt("break",14);case 7:return n.user_id=r.group.id,d=__("高级版"),e.abrupt("break",14);case 10:return n.organization_id=r.organization.id,d=__("语雀空间"),e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:return e.prev=14,e.next=17,P.a.promo.consume(n,{ignoreGlobalMessage:!0});case 17:if((a=e.sent).success){e.next=20;break}return e.abrupt("return",l(a.message));case 20:i=a.promo.amount,c=i,a.success&&(o(!1),k.a.success(__("兑换成功，您已获得{messageText}{duration}天",{messageText:d,duration:c}),1500),setTimeout((function(){window.location.reload()}),1500)),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(14),l(__("优惠码无效"));case 28:case"end":return e.stop()}}),e,null,[[14,25]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){C(o,n,a,i,c,"next",e)}function c(e){C(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return{state:{visible:a,errMessage:u,value:f},handleVerify:p,setVisible:o,onChange:function(e){m(e),l("")}}},z=function(e){var t=e.usage,r=window.appData,a=U({usage:t,appData:r}),o=a.state,i=o.visible,u=o.errMessage,l=o.value,s=a.handleVerify,f=a.setVisible,m=a.onChange,d=c.a.createElement("div",null,c.a.createElement("span",{className:R.title},__("兑换码")),c.a.createElement("a",{className:R.help,href:"https://www.yuque.com/yuque/cdgcvd/kpdrnf",target:"_blank"},__("关于兑换码"))),p=function(){f(!1),m("")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(n.a,{"data-aspm-click":"click-promo","data-aspm-param":"scene=show-promo-modal",onClick:function(){return f(!0)},className:R.memberPromoButton,"data-testid":"promo-verify-btn"},__("使用兑换码")),c.a.createElement(N.a,{title:d,visible:i,onCancel:function(){f(!1),m("")},footer:null,onClose:p},c.a.createElement(L.a,{layout:"vertical",className:R.form,"data-testid":"promo-verify-form"},c.a.createElement(L.a.Item,{label:__("输入兑换码"),validateStatus:u?"error":"",help:u},c.a.createElement(j.a,{placeholder:__("输入兑换码"),onChange:function(e){return m(e.target.value)},value:l}))),c.a.createElement("div",{className:R.footer},c.a.createElement(n.a,{type:"primary","data-testid":"submit-btn",onClick:s,className:R.submitBtn},__("确定")),c.a.createElement(n.a,{onClick:p},__("取消")))))};z.propTypes={usage:l.a.string};var F=z,G=r(11),Y=r.n(G),V="MemberLevelIcon-module_memberLevelIcon_5CHat",q="MemberLevelIcon-module_icon_ivQ-f",Z="MemberLevelIcon-module_levelName_yHocY",K="MemberLevelIcon-module_memberLevelIcon1_HGaOq",W="MemberLevelIcon-module_memberLevelIcon2_STP5o",H="MemberLevelIcon-module_memberLevelIconExpired_5bwcs";function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Q(e,t,r){return t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=window.appData.isDesktopApp,$=function(e){var t,r=e.user,n=r.member_level,a=r.memberLevelName,o=r.isPaid;if(!n)return null;var i=o?"icon-member-level-".concat(n):"icon-member-level-expired";return c.a.createElement("span",{className:Y()(V,(t={},Q(t,K,o&&n===d.MEMBER_LEVEL.member_level_1),Q(t,W,o&&n===d.MEMBER_LEVEL.member_level_2),Q(t,H,!o),t))},c.a.createElement("a",{href:m.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:X?"_self":"_blank","data-openexternal":!0},c.a.createElement(y.b,{name:i,height:22,width:23,className:q}),c.a.createElement("span",{className:Z},a)))};$.propTypes={user:l.a.object};var ee=$,te={memberBoardContainer:"board-module_memberBoardContainer_gN7pi",memberBoardRight:"board-module_memberBoardRight_6DlQt",memberBoardName:"board-module_memberBoardName_YNQRQ",orgIcon:"board-module_orgIcon_r70ZR",orgNameWrapper:"board-module_orgNameWrapper_OCGfs",orgName:"board-module_orgName_BE6gK",expiredDesc:"board-module_expiredDesc_AbfLB",certification:"board-module_certification_b5+ky",memberBoardNameCon:"board-module_memberBoardNameCon_i3Jda",memberBoardMainName:"board-module_memberBoardMainName_UiUuz",memberBoardGroupIcon:"board-module_memberBoardGroupIcon_rIq+p",memberBoardRenewButton:"board-module_memberBoardRenewButton_Gg-zI",memberBoardCountdown:"board-module_memberBoardCountdown_RqOSU",memberBoardDesc:"board-module_memberBoardDesc_AnX25",memberBoardLink:"board-module_memberBoardLink_uaK6n",memberBoardOrgDesc:"board-module_memberBoardOrgDesc_yTvNM"};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(){ne=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var h={};u(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(h=y);var b=p.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==re(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new g(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ae(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function oe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ae(o,n,a,i,c,"next",e)}function c(e){ae(o,n,a,i,c,"throw",e)}i(void 0)}))}}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===re(o)?o:String(o)),n)}var a,o}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=le(e);if(t){var a=le(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(h,e);var t,r,i,u,l,s=ue(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=s.call(this,e)).payFlowRef=c.a.createRef(),t}return t=h,r=[{key:"jumpToMember",value:function(e){b.a.jumpToMemberPage(e)}},{key:"showMemberIntro",value:(l=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.LIMIT_SCENE.member_setting_renew,!x.d){e.next=4;break}return this.jumpToMember(t),e.abrupt("return");case 4:this.payFlowRef.current.showMemberIntro({code:t});case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"showMemberRenewIntro",value:function(){var e=m.LIMIT_SCENE.member_setting_renew;x.d?this.jumpToMember(e):this.payFlowRef.current.showMemberIntro({code:e,isRenew:!0})}},{key:"showMemberUpgrade",value:function(){x.d?b.a.jumpToMemberPage(m.LIMIT_SCENE.member_setting_renew,{isUpgrade:!0}):this.payFlowRef.current.showMemberIntro({code:m.LIMIT_SCENE.member_setting_renew,isUpgrade:!0,upgradePackageType:d.MEMBER_LEVEL.member_level_2})}},{key:"startToPay",value:(u=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.payFlowRef.current.startToPay();case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this.props.user;"#renew"===window.location.hash&&(this.payFlowRef.current.showMemberIntro({isRenew:!0}),window.location.hash=""),window.location.hash.startsWith("#upgrade")&&(this.payFlowRef.current.showMemberIntro({isUpgrade:e.isPaid,upgradePackageType:d.MEMBER_LEVEL.member_level_2}),window.location.hash="")}},{key:"render",value:function(){var e=this,t=this.props,r=t.user,i=t.dispatch,u=t.organization,l=t.canUpgrade;if(null!=u&&u.id){var s,h=u.expired_at,b=f()().isAfter(h),x=g.a.isFree(u),N=g.a.isTrial(u),L=(null===(s=p.ORG_AMOUNT_MAP[u.payment_type])||void 0===s?void 0:s.name)||p.ORG_AMOUNT_MAP[v.PAYMENT_TYPE.free].name;return c.a.createElement("div",{className:te.memberBoardContainer,"data-testid":"board"},c.a.createElement(a.a,{className:te.memberBoardNameCon,align:"center"},c.a.createElement(o.a,{span:12},c.a.createElement("div",{className:te.memberBoardName},!x&&c.a.createElement(O.j,{className:te.orgIcon,size:48,organization:u}),c.a.createElement("div",{className:te.orgNameWrapper},c.a.createElement("div",{className:te.orgName},c.a.createElement("span",{style:{marginRight:"6px"}},N?__("{paymentTypeName}试用中",{paymentTypeName:L}):L),c.a.createElement(E.a,{className:te.certification})),!x&&c.a.createElement("div",{className:te.expiredDesc,style:{marginRight:"12px"}},b?__("{paymentTypeName}已于 {date} 过期",{paymentTypeName:L,date:f()(h).format("YYYY-MM-DD")}):__("有效期至 {date}",{date:f()(h).format("YYYY-MM-DD")}))))),c.a.createElement(o.a,{span:12,className:te.memberBoardRight},!x&&c.a.createElement(F,{usage:"organization"}),g.a.isPro(u)&&!g.a.isTrial(u)&&c.a.createElement("span",{className:te.memberBoardRenewButton},c.a.createElement(O.n,{type:"",organization:u,paySource:m.LIMIT_SCENE.org_dashboard_cashier_buy})),c.a.createElement("span",{className:te.memberBoardRenewButton},c.a.createElement(O.a,{type:"primary",organization:u,paySource:m.LIMIT_SCENE.org_dashboard_cashier_buy})))),c.a.createElement(a.a,{className:te.memberBoardDesc}))}var j=r.name,k=r.member_level,P=r.isPaid,T=window.appData,I=T.userMemberInfo,R=T.groupMemberInfo,M=T.organization,A=w.a.isGroupOrPublication(r),C=A?R:I,B=(C||{}).countDownDays,D=w.a.isPublication(r),U=!(!M||!M.id);return c.a.createElement("div",{className:te.memberBoardContainer,"data-testid":"board"},c.a.createElement(a.a,null,c.a.createElement(o.a,{span:12},c.a.createElement("div",{className:te.memberBoardName},j,function(){if(!(!k||D||U&&A)){if(A){var e="member".concat(P?"":"-expired","-level").concat(k);return c.a.createElement("span",{className:te.memberBoardGroupIcon},c.a.createElement(_.a,{href:m.LINKS.EXTERNAL_GROUP_INTRO_LINK,target:"_blank"},c.a.createElement(y.b,{name:e,height:22,width:23})))}return c.a.createElement(ee,{user:r})}}()),c.a.createElement("div",{className:te.memberBoardDesc},D||U&&A?null:k?P?c.a.createElement("div",null,A&&c.a.createElement("span",{className:te.memberBoardMainName},__("高级版团队")),c.a.createElement("span",null,0===B?c.a.createElement(c.a.Fragment,null,__("有效期至")," ",f()(C.expired_at).format("YYYY-MM-DD HH:mm:ss")):c.a.createElement(c.a.Fragment,null,__("有效期至")," ",f()(C.expired_at).format("YYYY-MM-DD")))):A?c.a.createElement("div",null,__("高级版团队已到期")):c.a.createElement("div",null,__("会员已于 {expiredAt} 过期，当前只能享受普通用户权益",{expiredAt:f()(r.expired_at).format("YYYY-MM-DD")})):A?null:c.a.createElement("div",null,c.a.createElement("span",{className:te.memberBoardSubDesc},__("普通用户，购买可享更多权益"))))),!A&&c.a.createElement(o.a,{span:12,className:te.memberBoardRight},c.a.createElement(F,{usage:A?"group":"member"}),k>0?c.a.createElement(c.a.Fragment,null,l&&k===d.MEMBER_LEVEL.member_level_1&&P&&c.a.createElement("span",{className:te.memberBoardRenewButton},c.a.createElement(n.a,{onClick:function(){return e.showMemberUpgrade()}},__("升级"))),c.a.createElement("span",{className:te.memberBoardRenewButton},c.a.createElement(n.a,{type:"primary",onClick:function(){return e.showMemberRenewIntro()}},__("购买")))):c.a.createElement("span",{className:te.memberBoardRenewButton},c.a.createElement(n.a,{"data-aspm-click":"click-pay","data-aspm-param":"scene=show-upgrade-introduction",type:"primary",onClick:function(){return e.showMemberIntro()}},__("购买会员"))))),c.a.createElement(S.a,{dispatch:i,user:r,ref:this.payFlowRef,onReceiptSuccess:function(){return e.onReceiptSuccess()}}))}}],r&&ie(t.prototype,r),i&&ie(t,i),Object.defineProperty(t,"prototype",{writable:!1}),h}(i.PureComponent);se.propTypes={user:l.a.object,organization:l.a.object,dispatch:l.a.func};var fe=se,me=(r(230),r(65)),de=r(302),pe=r.n(de),he="selector-module_memberSelectorContainer_SzVML",ve="selector-module_memberSelectorTips_vqgUs";function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oe(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ee(e);if(t){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(this,r)}}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function Oe(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}var xe=h.a.MEMBER_GROUP_FULL_AMOUNT,Se=h.a.MEMBER_GROUP_BASE_AMOUNT,Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(o,e);var t,r,n,a=ge(o);function o(e){var t,r,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),r=we(t),i=function(e){var r=e.target.value;t.setState({value:r}),t.props.onChange(r)},(n=Oe(n="onChangeLevel"))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,t.state={value:0},t}return t=o,(r=[{key:"render",value:function(){return c.a.createElement("div",{className:he,"data-testid":"selector"},c.a.createElement(me.a.Group,{onChange:this.onChangeLevel,defaultValue:0},c.a.createElement(me.a.Button,{value:0},__("基础版"),c.a.createElement("br",null),__("免费")),c.a.createElement(me.a.Button,{value:1,"data-testid":"premium"},__("高级版"),c.a.createElement("br",null),xe," ",__("元"),"/",pe()(__("年")),"/",pe()(__("团队")))),1===this.state.value&&c.a.createElement("div",{className:ve},__("立即升级，可享受首年 {value} 元优惠价",{value:Se})))}}])&&be(t.prototype,r),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);Ne.propTypes={onChange:l.a.func};var Le=r(207),je="DocCollaboratorTip-module_contentText_3pLj-";function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Te=function(e){var t=e.collaboratorCount,r=e.user,n=window.appData,a=n.organization,o=n.me,u=!(null==a||!a.id),l=ke(Object(i.useState)(t),2),s=l[0],f=l[1];Object(i.useEffect)((function(){f(t)}),[t]);var p=Le.a.getDocCollaboratorLimit(r),h=function(e){var t,r;if(!u)return null===(t=window.__member_message_ref)||void 0===t||null===(r=t.current)||void 0===r||r.showMemberIntro(m.LIMIT_RULE_CODE.max_doc_collaborator_number),e.preventDefault(),!1},v=function(e){var t,r;if(!u)return null===(t=window.__member_message_ref)||void 0===t||null===(r=t.current)||void 0===r||r.showMemberIntro(m.LIMIT_RULE_CODE.max_doc_collaborator_number,{isUpgrade:!0,upgradePackageType:d.MEMBER_LEVEL.member_level_2}),e.preventDefault(),!1};return c.a.createElement(c.a.Fragment,null,function(){var e=null;if(s<p)return e;if(u?a.isPremium:r.isPaid){if(e=__("协作者人数已达最大上限"),!w.a.isGroupOrPublication(r)&&!u&&!r.isTopLevel){var t,n=null===(t=m.MEMBER_RULE.User[d.MEMBER_LEVEL.member_level_2])||void 0===t?void 0:t[m.LIMIT_RULE_CODE.max_doc_collaborator_number];e=o.id!==r.id?__("协作者人数已达上限，联系知识库所有者升级超级会员可提升至{count}人",{count:n}):__("协作者人数已达上限，{upgrade} 可邀请{count}人协作",{upgrade:c.a.createElement("a",{onClick:v},__("升级超级会员")),count:n})}}else{var i,l="https://www.yuque.com/about/price#".concat(u?"organization":"personal"),f=u?__("升级空间"):__("购买会员");e=__("协作人数已达上限，{upgrade} 邀请更多人加入协作",{upgrade:c.a.createElement("a",{href:l,target:"_blank",onClick:h},f)}),w.a.isGroupOrPublication(r)?e=__("协作者人数已达上限"):o.id!==r.id&&(e=__("协作者人数已达上限，请联系知识库所有者升级会员提升上限")),!u||null!==(i=a.abilities)&&void 0!==i&&i.destroy||(e=__("协作者人数已达上限，请联系管理员升级空间"))}return c.a.createElement("div",{className:je},e)}())};Te.propTypes={collaboratorCount:l.a.number,user:l.a.object};var Ie=Te,Re=r(3061),Me=r(1596),Ae="groupintro-module_groupIntroContainer_XUWAC",Ce="groupintro-module_groupIntroMainImage_wg4Nf",Be="groupintro-module_groupIntroMore_4N4Va";function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===De(o)?o:String(o)),n)}var a,o}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ge(e);if(t){var a=Ge(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}(u,e);var t,r,n,i=Fe(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(r=[{key:"render",value:function(){var e="en-us"===window.appData.locale;return c.a.createElement("div",{className:Ae,"data-testid":"groupintro"},c.a.createElement(a.a,null,c.a.createElement(o.a,{span:24},c.a.createElement("div",{className:Ce},e?c.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/basement_prod/0ba80d6a-abd1-41da-82ca-1aa40928c650.svg"}):c.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/basement_prod/9191d568-5928-41b5-a195-da00b1c07d1b.svg"})),c.a.createElement("div",{className:Be},c.a.createElement("a",{href:m.LINKS.EXTERNAL_GROUP_INTRO_LINK,target:"_blank"},__("了解更多")," ",c.a.createElement(Me.default,null))))))}}])&&Ue(t.prototype,r),n&&Ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.PureComponent);Ye.propTypes={};var Ve=r(867),qe=r(3157),Ze=(r(95),r(38)),Ke=r(3124),We=r.n(Ke),He=r(196),Je={orgUsageBoard:"organizationUsage-module_orgUsageBoard_R68jU",usageBoard:"organizationUsage-module_usageBoard_+jcHn",homepageMode:"organizationUsage-module_homepageMode_8ax+5",header:"organizationUsage-module_header_QARUu",informationIcon:"organizationUsage-module_informationIcon_Rp7jc",icon:"organizationUsage-module_icon_Ce2AF",content:"organizationUsage-module_content_NywO7",title:"organizationUsage-module_title_z39UP",iconInfo:"organizationUsage-module_iconInfo_cGcpv",buyBtn:"organizationUsage-module_buyBtn_wyCzR",percent:"organizationUsage-module_percent_0izvV",tip:"organizationUsage-module_tip_trHRY",reachedText:"organizationUsage-module_reachedText_DPIJ7",usageBar:"organizationUsage-module_usageBar_1vk-H",innerBar:"organizationUsage-module_innerBar_jiX-J",vernier:"organizationUsage-module_vernier_WO3Ko",full:"organizationUsage-module_full_hWfHT"};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Xe(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(){$e=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var h={};u(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(h=y);var b=p.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Qe(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new g(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function et(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nt="doc",at="member",ot="group",it="upload",ct=function(e){var t,r,n,a,o,u=m.SIZE.GB,l=g.a.isPremium(e),s=tt(Object(i.useState)({}),2),d=s[0],p=s[1],h=window.appData.interest;l&&f()().toDate()<f()(null==e?void 0:e.expired_at).subtract(1,"month").toDate()&&(o=c.a.createElement(O.b,{organization:e,className:Je.buyMember,code:m.LIMIT_SCENE.org_usage_buy}));var v=[{key:nt,icon:function(e){return c.a.createElement(y.b,{name:"icon-document1",size:e})},title:__("月新建文档数"),count:null==d?void 0:d.docs_count,max:null==d?void 0:d.max_docs_count,tip:__("文档数量包括：文档、表格、画板、数据表"),unit:__("篇"),percent:Math.min(parseInt((null==d?void 0:d.docs_count)/(null==d?void 0:d.max_docs_count)*100,10)||0,100)},{key:at,icon:function(e){return c.a.createElement(y.b,{name:"icon-member2",size:e})},title:__("成员容量"),count:null==d?void 0:d.members_count,max:null==d?void 0:d.max_members_count,unit:__("人#lower"),extra:o,percent:Math.min(parseInt((null==d?void 0:d.members_count)/(null==d?void 0:d.max_members_count)*100,10)||0,100)},{key:ot,icon:function(e){return c.a.createElement(y.b,{name:"icon-team",size:e})},title:__("团队数量"),count:null==h||null===(t=h.usage)||void 0===t?void 0:t.group_count,max:null==h||null===(r=h.limit)||void 0===r?void 0:r.max_group_number,tip:__("可创建无限量的团队用作协同"),unit:__("个"),percent:Math.min(parseInt((null==h||null===(n=h.usage)||void 0===n?void 0:n.group_count)/(null==h||null===(a=h.limit)||void 0===a?void 0:a.max_group_number)*100,10)||0,100)},{key:it,icon:function(e){return c.a.createElement(y.b,{name:"icon-dataflow",size:e})},title:__("月上传流量#title"),count:We()((null==d?void 0:d.upload_size)/u,2),max:We()((null==d?void 0:d.max_upload_size)/u,2),unit:"GB",percent:Math.min(parseInt((null==d?void 0:d.upload_size)/(null==d?void 0:d.max_upload_size)*100,10)||0,100)}],b=function(){var t,r=(t=$e().mark((function t(){var r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.webProxy.organizations.usage({id:e.id});case 2:(r=t.sent)&&(p(r),e.usage=r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){et(o,n,a,i,c,"next",e)}function c(e){et(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(i.useEffect)((function(){b()}),[]),{usageList:v}},ut=function(e){var t,r=e.homepageMode,n=e.organization,o=e.className,i=ct(n).usageList,u=tt(i,4),l=u[0],s=u[1],f=u[2],d=u[3],p=g.a.isPremium(n),h=function(e){return c.a.createElement("div",{className:Je.usageBar},c.a.createElement("div",{className:Y()(Je.innerBar,Xe({},Je.full,e.percent>=80)),style:{width:"".concat(e.percent,"%")}},c.a.createElement("span",{className:Je.vernier},e.percent,"%")))},v=function(e){return r?c.a.createElement("div",{className:Je.content},c.a.createElement("span",{className:Je.title},e.title,e.key===nt&&c.a.createElement(Ze.a,{title:c.a.createElement("span",null,__("文档数量包括：文档、表格、画板、数据表"))},c.a.createElement(y.b,{className:Je.iconInfo,size:14,name:"information"})),e.key===at&&(null==e?void 0:e.extra)&&c.a.createElement(O.b,{className:Je.buyBtn,organization:n,code:m.LIMIT_SCENE.org_usage_buy})),c.a.createElement("span",null,c.a.createElement("b",null,(null==e?void 0:e.count)||0),c.a.createElement("span",{className:Je.percent}," / ",null!=e&&e.max?(null==e?void 0:e.max)+(null==e?void 0:e.unit):__("无限{unit}",{unit:null==e?void 0:e.unit})))):c.a.createElement("div",null,c.a.createElement("span",{style:{fontSize:"14px"}},e.title,"："),c.a.createElement("span",null,c.a.createElement("b",null,(null==e?void 0:e.count)||0)," / ",c.a.createElement("span",{style:{fontSize:"14px"}},null!=e&&e.max?(null==e?void 0:e.max)+(null==e?void 0:e.unit):__("无限{unit}",{unit:null==e?void 0:e.unit}))))};return t=g.a.isPremium(n)?c.a.createElement(c.a.Fragment,null,c.a.createElement(a.a,null,c.a.createElement("div",{className:Y()(Je.usageBoard)},c.a.createElement("div",{className:Je.header},!r&&c.a.createElement("div",{className:Je.icon},l.icon(14)),v(l)),l.tip&&!r&&c.a.createElement("div",{className:Je.tip},l.tip),r&&c.a.createElement("div",{className:Je.tip},__("可创建无限量的文稿用作项目、需求文档")))),[s,f,d].map((function(e){var t=e.key===at;return c.a.createElement("div",{className:Y()(Je.usageBoard,Xe({},Je.homepageMode,r)),key:e.title},c.a.createElement("div",{className:Je.header},!r&&c.a.createElement("div",{className:Je.icon},e.icon(14)),v(e),!r&&t&&(null==e?void 0:e.extra)&&c.a.createElement("div",{style:{marginLeft:"6px"}},c.a.createElement(O.b,{organization:n,code:m.LIMIT_SCENE.org_usage_buy}))),e.key===ot||r&&e.key===nt?c.a.createElement("div",{className:Je.tip},e.tip):h(e))}))):c.a.createElement(c.a.Fragment,null,i.map((function(e){var t=e.percent>=100,a=e.key===ot;return c.a.createElement("div",{className:Y()(Je.usageBoard,Xe({},Je.homepageMode,r)),key:e.title},c.a.createElement("div",{className:Je.header},!r&&c.a.createElement("div",{className:Je.icon},e.icon(14)),v(e)),!(r&&e.key===nt)&&e.tip&&!t&&!a&&c.a.createElement("div",{className:Je.tip},e.tip),g.a.isPremium(n)&&t&&function(e){switch(e.key){case nt:return c.a.createElement("div",{className:Je.reachedText},__("文档创建数已达上限，{payActionLink}可享无限创建（文档数量包括：文档、表格、画板、数据表）",{payActionLink:c.a.createElement(O.a,{organization:n,text:g.a.getPaymentAction(null==n?void 0:n.payment_type)})}));case at:return p?c.a.createElement("div",{className:Je.reachedText},__("成员数量已达上限，{payActionLink}可增加成员容量",{payActionLink:c.a.createElement(O.b,{organization:n,text:g.a.getPaymentAction(null==n?void 0:n.payment_type),code:m.LIMIT_SCENE.org_usage_buy})})):null;default:return null}}(e),h(e))}))),c.a.createElement("div",{className:Y()(Je.orgUsageBoard,o)},!r&&c.a.createElement(a.a,{justify:"space-between",align:"middle"},c.a.createElement("h3",{style:{marginBottom:0}},__("空间权益")),c.a.createElement("a",{href:"/about/price#team",target:"_blank",style:{display:"flex",alignItems:"center"}},__("查看付费版权益"),c.a.createElement(y.b,{name:"arrow-right",size:16,style:{marginLeft:"4px"}}))),t)};ut.propTypes={organization:l.a.object,homepageMode:l.a.bool,className:l.a.string},ut.defaultProps={organization:{},homepageMode:!1};var lt=ut,st=r(1597),ft=r(1598),mt="UsagePercentShow-module_usageContainer_jKUGw",dt="UsagePercentShow-module_usageBox_AA0WY",pt="UsagePercentShow-module_usageDesc_p4Fzl",ht="UsagePercentShow-module_titleIconWrapper_-+Wzw",vt="UsagePercentShow-module_content_b+Gk-",yt="UsagePercentShow-module_title_qgGNo",bt="UsagePercentShow-module_count_HLwuB",_t="UsagePercentShow-module_limit_RdfnJ",gt="UsagePercentShow-module_usageDetail_6nf3s",wt="UsagePercentShow-module_usageBarItem_MxMUl",Et="UsagePercentShow-module_usageBarCon_ny839",Ot="UsagePercentShow-module_usageBarPercent_2o48U",xt=function(e){var t=e.icon,r=e.title,n=e.unit,a=e.totalUsed,o=e.totalLimit,i=e.totalPercent;return c.a.createElement("div",{className:mt},c.a.createElement("div",{className:dt},c.a.createElement("div",{className:pt,"data-testid":"test-usage-detail"},c.a.createElement("div",{className:ht},t),c.a.createElement("div",{className:vt},c.a.createElement("span",{className:yt},r,__("：")),c.a.createElement("span",{className:bt},"".concat(a),c.a.createElement("span",{className:_t}," ","/ ".concat(o," ").concat(n))))),c.a.createElement("div",{className:gt},c.a.createElement("div",{className:Y()(Et)},c.a.createElement("div",{className:wt,style:{left:0,width:"".concat(i,"%"),background:Number(i)>=80?"linear-gradient(90deg, #47A8F7, #EA7583)":"#47A8F7"}}),c.a.createElement("div",{className:Ot,style:{left:"".concat(i,"%")}},i,"%")))))},St=function(e){var t=e.group,r=t.max_member,n=t.members_count,a=t.groupMemberInfo.usage,o=w.a.isPublication(t)?__("知识小组"):__("团队"),i=a||{},u=i.attachment_size,l=void 0===u?0:u,s=i.video_size,f=void 0===s?0:s,d=i.image_size,p=void 0===d?0:d,h=i.max_upload_size,v=void 0===h?0:h,y=m.SIZE.GB,b=[{text:__("附件"),value:l/y,tips:__("包括所有上传到{where}的文件（除本地视频、图片）",{where:o.toLowerCase()})},{text:__("本地视频"),value:f/y},{text:__("图片"),value:p/y}],_=v/y,g=0;b.forEach((function(e){g+=e.value}));var E=g.toFixed(2),O=_.toFixed(2),x=E/O*100;x=Math.min(x,100).toFixed(2);var S=t.isPaid?m.MEMBER_RULE.Group.member.max_group_member_number:m.MEMBER_RULE.Group.normal.max_group_member_number,N=r||S,L=n/N*100;return L=Math.min(L,100).toFixed(2),c.a.createElement(c.a.Fragment,null,c.a.createElement(xt,{icon:c.a.createElement(st.default,{width:16,height:16}),title:__("上传流量"),unit:__("GB"),totalUsed:E,totalLimit:O,totalPercent:x}),c.a.createElement(xt,{icon:c.a.createElement(ft.default,{width:16,height:16}),title:__("人数规模"),unit:__("人"),totalUsed:n,totalLimit:N,totalPercent:L}))};St.propTypes={group:l.a.object};var Nt=St,Lt=(r(183),r(104)),jt=r(3161),kt=r.n(jt),Pt="userUsage-module_userUsageContainer_Vg08f",Tt="userUsage-module_title_tEvgb",It="userUsage-module_rightsLink_NVrG8",Rt="userUsage-module_userUsageRow_5Ni-3",Mt="userUsage-module_userUsageBox_0afdo",At="userUsage-module_usageDesc_jR+jq",Ct="userUsage-module_titleIconWrapper_Kt+AY",Bt="userUsage-module_content_I7Z11",Dt="userUsage-module_count_Nurz0",Ut="userUsage-module_limit_rEjzt",zt="userUsage-module_exceedTip_91hDB",Ft="userUsage-module_usageDetail_Y019y",Gt="userUsage-module_usageBarItem_GU6oR",Yt="userUsage-module_usageBarCon_29GIy",Vt="userUsage-module_usageBarPercent_mDaqi",qt="userUsage-module_docAndNoteUsage_fPljT",Zt="userUsage-module_dataFlowUsage_6tbSW",Kt="userUsage-module_wechatGroup_9xMsW",Wt="userUsage-module_qrcode_pIXqT",Ht="userUsage-module_qrcodeDesc_8fKRX",Jt="userUsage-module_titleIcon_WBzIt",Qt="userUsage-module_qrcodeIcon_8TtwM",Xt="userUsage-module_qrcodeWrapper_yTpsS",$t="userUsage-module_qrcodeContent_gIsg6",er="userUsage-module_desc_jviUQ",tr="linear-gradient(90deg, #47A8F7, #EA7583)",rr="#47A8F7",nr=function(e){var t=e.user,r=window.appData.userMemberInfo,n=m.SIZE.GB,a=r.usage,o=r.totalDocAndNoteUsageMonth,i=void 0===o?0:o,u=m.MEMBER_RULE.User[t.isPaid?t.member_level:d.MEMBER_LEVEL.free],l=m.MEMBER_RULE.User[d.MEMBER_LEVEL.free],s=function(e){var t,r;null===(t=window.__member_message_ref)||void 0===t||null===(r=t.current)||void 0===r||r.showMemberIntro(m.LIMIT_SCENE.user_usage,e)},f=l[m.LIMIT_RULE_CODE.max_doc_note_number],p=t.isPaid?__("无限"):f,h=i>f?"100%":"".concat((i/f*100).toFixed(0),"%"),v=function(){var e=a||{},t=e.attachment_size_month,r=void 0===t?0:t,o=e.image_size_month,i=void 0===o?0:o,c=e.video_size_month,l=void 0===c?0:c,s=u[m.LIMIT_RULE_CODE.max_resource_month_size],f=kt()([r,i,l]),d=f/s*100;return d=Math.min(d,100).toFixed(2),{monthSizeUsage:f="".concat((f/n).toFixed(2)),monthSizeLimit:"".concat(s/n),monthSizePercent:d}}(),b=v.monthSizeUsage,_=v.monthSizeLimit,g=v.monthSizePercent,w=t.member_level===d.MEMBER_LEVEL.member_level_2&&t.isPaid;return c.a.createElement("div",{className:Pt},c.a.createElement("div",{className:Tt},c.a.createElement("span",null,__("我的权益")),c.a.createElement("a",{href:"https://www.yuque.com/yuque/ng1qth/member-privilege",target:"_blank",className:It},c.a.createElement("span",null,__("查看完整权益介绍")),c.a.createElement(y.b,{name:"arrow-right",size:16}))),c.a.createElement("div",{className:Rt},c.a.createElement("div",{className:Y()(Mt,qt)},c.a.createElement("div",{className:At,"data-testid":"test-usage-detail"},c.a.createElement("div",{className:Ct},c.a.createElement(y.b,{name:"icon-document1",size:16,className:Jt})),c.a.createElement("div",{className:Bt},c.a.createElement("span",{className:Tt},__("本月新建文稿数"),__("：")),c.a.createElement("span",{className:Dt},"".concat(i),c.a.createElement("span",{className:Ut}," ","/ ".concat(p).concat(p===__("无限")?"":" "),__("篇"))))),!t.isPaid&&i>=f&&c.a.createElement("div",{className:zt},__("本月新建文稿数已达上限，{btn}可享无限创建",{btn:c.a.createElement("a",{onClick:function(){return s(t.hasMemberLevel?{isRenew:t.hasMemberLevel}:{isUpgrade:!0,upgradePackageType:d.MEMBER_LEVEL.member_level_2})}},t.hasMemberLevel?__("续费会员"):__("升级会员"))})),c.a.createElement("div",{className:Ft},!t.isPaid&&c.a.createElement("div",{className:Y()(Yt)},c.a.createElement("div",{className:Gt,style:{left:0,width:"".concat(h),background:i>=80?tr:rr}}),c.a.createElement("div",{className:Vt,style:{left:"".concat(h)}},h)))),c.a.createElement("div",{className:Y()(Mt,Zt)},c.a.createElement("div",{className:At,"data-testid":"test-usage-detail"},c.a.createElement("div",{className:Ct},c.a.createElement(y.b,{name:"icon-dataflow",size:16,className:Jt})),c.a.createElement("div",{className:Bt},c.a.createElement("span",{className:Tt},__("本月上传流量"),__("：")),c.a.createElement("span",{className:Dt},"".concat(b),c.a.createElement("span",{className:Ut}," ","/ ".concat(_," GB"))))),g>=100?c.a.createElement(c.a.Fragment,null,t.member_level<d.MEMBER_LEVEL.member_level_2&&c.a.createElement("div",{className:zt},__("本月上传流量已达限制，{btn}可享更多流量",{btn:c.a.createElement("a",{onClick:function(){return s(t.hasMemberLevel?{isUpgrade:!0,upgradePackageType:d.MEMBER_LEVEL.member_level_2}:{})}},t.hasMemberLevel?__("升级会员"):__("购买会员"))})),t.member_level===d.MEMBER_LEVEL.member_level_2&&c.a.createElement("div",{className:zt},__("本月上传流量已达最大限制")),c.a.createElement("div",{className:Ft},c.a.createElement("div",{className:Y()(Yt)},c.a.createElement("div",{className:Gt,style:{left:0,width:"100%",background:"linear-gradient(90deg, #47A8F7, #EA7583)"}}),c.a.createElement("div",{className:Vt,style:{left:"100%"}},"100%")))):c.a.createElement("div",{className:Ft},c.a.createElement("div",{className:Y()(Yt)},c.a.createElement("div",{className:Gt,style:{left:0,width:"".concat(g,"%"),background:g>=80?tr:rr}}),c.a.createElement("div",{className:Vt,style:{left:"".concat(g,"%")}},g,"%")))),w&&c.a.createElement("div",{className:Y()(Mt,Kt)},c.a.createElement(Lt.a,{trigger:"hover",noArrow:!0,placement:"bottomRight",content:c.a.createElement("div",{className:Xt},c.a.createElement("div",{className:$t},c.a.createElement("img",{className:Wt,src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Lw_KSaKlomkAAAAAAAAAAAAAARQnAQ"})),c.a.createElement("p",{className:er},__("微信扫一扫，加入超级会员交流群")))},c.a.createElement("div",{className:At},c.a.createElement("div",{className:Ct},c.a.createElement(y.b,{name:"nav-team2",size:16,className:Jt})),c.a.createElement("p",null,__("超级会员交流群")),c.a.createElement("div",{className:Wt},c.a.createElement("p",{className:Ht},__("查看二维码")),c.a.createElement(y.b,{name:"icon-qrcode2",size:16,className:Qt})))))))};nr.propTypes={user:l.a.object};var ar=nr,or=(r(147),r(80)),ir=r(1595),cr=r(139),ur="uploadExhaustReminder-module_UploadExhaustReminderCard_cBlO2",lr="uploadExhaustReminder-module_UploadExhaustReminderEnContainer_WNK2j",sr="uploadExhaustReminder-module_UploadExhaustReminderContainer_XX4Gr",fr="uploadExhaustReminder-module_UploadExhaustReminderSubTitle_hv3if",mr="uploadExhaustReminder-module_UploadExhaustReminderIcon_Y2-xC",dr="uploadExhaustReminder-module_UploadExhaustReminderButtonCon_mHoxS",pr="uploadExhaustReminder-module_UploadExhaustReminderImage_zteOX",hr="uploadExhaustReminder-module_UploadExhaustReminderSmallImage_3HP6j",vr="uploadExhaustReminder-module_UploadExhaustReminderOwners_N0DgD";function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t,r){return(t=gr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gr(n.key),n)}}function gr(e){var t=function(e,t){if("object"!==yr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yr(t)?t:String(t)}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Or(e);if(t){var a=Or(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(u,e);var t,r,o,i=Er(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={visible:!1},t}return t=u,(r=[{key:"hasGroupOwnerAbility",value:function(){var e=window.appData.group;return e&&e.abilities&&e.abilities.destroy}},{key:"hasOwnerAbility",value:function(){var e=this.props.user;return!w.a.isGroupOrPublication(e)||this.hasGroupOwnerAbility()}},{key:"getStorageKey",value:function(){var e=this.props.user;return"upload-exhaust-reminder/".concat(e.id)}},{key:"getRemainUpload",value:function(e){var t=e.attachment_size,r=e.image_size,n=e.video_size;return e.max_upload_size-t-r-n}},{key:"showUploadExhaust",value:function(){var e=window.appData,t=e.groupMemberInfo,r=void 0===t?{}:t,n=e.userMemberInfo,a=void 0===n?{}:n,o=this.props.user,i=w.a.isGroupOrPublication(o)?r.usage:a.usage;if(i){var c=this.getRemainUpload(i),u=this.getStorageKey(),l=+(cr.a.get(u)||0);c>1*Math.pow(1024,3)?cr.a.remove(u):c>0&&l||l>=2||this.setState({visible:!0})}}},{key:"componentDidMount",value:function(){this.showUploadExhaust()}},{key:"onClose",value:function(){var e=this.getStorageKey(),t=+(cr.a.get(e)||0);cr.a.set(e,t+1),this.setState({visible:!1})}},{key:"buyUpload",value:function(){Re.a.showMemberIntro(null,{isBuyUpload:!0})}},{key:"getOwners",value:function(){var e=window.appData.groupMemberInfo;return e&&e.groupOwners?c.a.createElement("span",{className:vr},e.groupOwners.map((function(t,r){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:t.login,target:"_blank"},t.name),r!==e.groupOwners.length-1&&c.a.createElement(c.a.Fragment,null,__("、")))}))):""}},{key:"getTitles",value:function(e,t,r){var n,a,o=this.getRemainUpload(t);return w.a.isGroupOrPublication(e)?o>0?(n=__("你的团队剩余上传流量不足 1GB"),a=r?__("你的团队“{name}”剩余上传流量不足 1GB。为了不影响功能使用，请及时购买流量。",{name:e.name}):__("为了不影响功能使用，请联系管理员{owners}及时购买流量。",{owners:this.getOwners()})):(n=__("你的团队上传流量已用完"),a=r?__("你的团队“{name}”上传流量已用完。为了不影响功能使用，请及时购买流量。",{name:e.name}):__("为了不影响功能使用，请联系管理员{owners}及时购买流量。",{owners:this.getOwners()})):o>0?(n=__("你的剩余上传流量不足 1GB"),a=__("你的剩余上传流量不足 1GB。为了不影响功能使用，请及时购买流量。",{name:e.name})):(n=__("你的上传流量已用完"),a=__("你的上传流量已用完。为了不影响功能使用，请及时购买流量。",{name:e.name})),{title:n,subTitle:a}}},{key:"render",value:function(){var e,t=this;if(window.h5||!this.state.visible)return null;var r=window.appData,o=r.locale,i=r.organization,u=r.isPublicCloud,l=r.groupMemberInfo,s=void 0===l?{}:l,f=r.userMemberInfo,m=void 0===f?{}:f;if(!u||i)return null;var d=this.props.user,p=w.a.isGroupOrPublication(d),h=p?s.usage:m.usage;if(!h)return null;var v=this.hasOwnerAbility(),y="en-us"===o,b=this.getTitles(d,h,v),_=b.title,g=b.subTitle;return c.a.createElement("div",{className:p?"layout-container":null,"data-testid":"upload-exhaust-reminder"},c.a.createElement(or.a,{"data-testid":"expire-reminder",className:ur,extra:c.a.createElement("span",{className:"larkicon larkicon-close",onClick:function(){return t.onClose()}})},c.a.createElement("div",{className:Y()((e={},br(e,sr,!0),br(e,lr,y),e))},c.a.createElement(ir.default,{className:mr}),c.a.createElement("h2",null,_),c.a.createElement("p",{className:fr},g),v&&c.a.createElement(a.a,{className:dr},c.a.createElement(n.a,{type:"primary",onClick:function(){return t.buyUpload()}},__("购买流量"))),c.a.createElement("div",{className:v?pr:hr},c.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*ojF7RpGFUJUAAAAAAAAAAABkARQnAQ"})))))}}])&&_r(t.prototype,r),o&&_r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.PureComponent);xr.propTypes={user:l.a.object};r(184);var Sr=r(108),Nr=r(152),Lr=r(316),jr=r(728),kr="index-module_successModalContainer_-aK4t",Pr="index-module_successModalInfoCon_7ecQr",Tr="index-module_successModalInfoTitle_ByhnY",Ir="index-module_successModalSubTitle_kd51r",Rr="index-module_successModalItem_+QbaR",Mr="index-module_successModalBlank_KXceZ",Ar=function(e){var t=e.user,r=e.order,n=e.visible,a=e.onClose,o=r.order_id,i=r.order_type,u=r.amount,l=r.upload_size,s=r.package_type,m=r.updated_at,h=r.buyer,v=i===d.ORDER_TYPE.data,y=i===d.ORDER_TYPE.renew,b=w.a.isGroupOrPublication(t),_="en-us"===window.appData.locale?" ":"";return c.a.createElement(N.a,{className:"order-detail-modal",title:"订单详情",visible:n,onCancel:a,closable:!0,maskClosable:!1,footer:null,centered:!0,width:656},c.a.createElement("div",{className:kr,"data-testid":"success-modal"},c.a.createElement("div",{className:Pr},v?c.a.createElement("h1",{className:Tr},__("购买语雀上传流量")):c.a.createElement("h1",{className:Tr},b&&__("团队"),_,y?__("续费"):__("升级"),_,function(){var e=__("会员");if(b)e=__("高级版");else if(s){var t;e=(null===(t=p.MEMBER_USER_AMOUNT_MAP[s])||void 0===t?void 0:t.name)||__("会员")}return e}()),c.a.createElement("p",{className:Mr}),c.a.createElement("p",{className:Ir},__("订单信息")),c.a.createElement("p",{className:Rr},pe()(b?__("团队"):__("帐号")),"：",t.name),c.a.createElement("p",{className:Rr},__("订单号"),"：",o),v&&c.a.createElement("p",{className:Rr,"data-testid":"order-desc"},__("上传流量"),"：",Object(Nr.getSizeValue)(l).value,Object(Nr.getSizeValue)(l).unit),c.a.createElement("p",{className:Rr},__("付款金额"),"：",u," ",__("元")),c.a.createElement("p",{className:Rr,"data-testid":"buyer"},__("付款人"),"：",h&&h.name),c.a.createElement("p",{className:Rr},__("付款时间"),"：",m&&f()(m).format("YYYY-MM-DD HH:mm:ss")))))};Ar.propTypes={user:l.a.object.isRequired,order:l.a.object.isRequired,visible:l.a.bool.isRequired,onClose:l.a.func.isRequired};var Cr=Ar,Br="orderReceipt-module_table_ulliM",Dr="orderReceipt-module_border_eZgzZ",Ur="orderReceipt-module_tableHeader_FQ+zb",zr="orderReceipt-module_content_wbMym",Fr="orderReceipt-module_amount_tDmhL",Gr="orderReceipt-module_user_TgHTF",Yr="orderReceipt-module_timer_WuSe8",Vr="orderReceipt-module_actions_tViEs";function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){return t=function(e){var t=function(e,t){if("object"!==qr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qr(e){var t=e.user,r=e.showTitle,a=Hr(Object(i.useState)([]),2),o=a[0],u=a[1],l=Hr(Object(i.useState)(0),2),s=l[0],f=l[1],m=Hr(Object(i.useState)(1),2),h=m[0],v=m[1],y=Hr(Object(i.useState)(null),2),b=y[0],_=y[1],g=Hr(Object(i.useState)(null),2),E=g[0],O=g[1];if(Object(i.useEffect)((function(){P.a.userOrders.find({id:t.id,offset:50*(h-1),limit:50},{useOriginResp:!0}).then((function(e){u(e.data),f(e.meta.total)}))}),[h,t.id]),w.a.isGroupOrPublication(t)&&!o.length)return null;var x=[{title:__("订单号"),dataIndex:"id",width:200,render:function(e,t){return t.order&&t.order.order_id}},{title:__("内容"),dataIndex:"type",width:150,className:zr,render:function(e,r){return c.a.createElement("a",{onClick:function(){return O(r.order)},"data-testid":"order-content"},function(e){var r=e.order,n=r.order_type,a=r.upload_size,o=r.package_type,i=__("会员");if(w.a.isGroupOrPublication(t))i=__("高级版");else if(o){var c;i=(null===(c=p.MEMBER_USER_AMOUNT_MAP[o])||void 0===c?void 0:c.name)||__("会员")}switch(n){case d.ORDER_TYPE.buy:return __("升级{subject}",{subject:i});case d.ORDER_TYPE.renew:return __("续费{subject}",{subject:i});case d.ORDER_TYPE.data:return __("购买上传流量，{upload_size}{unit}",{upload_size:Object(Nr.getSizeValue)(a).value,unit:Object(Nr.getSizeValue)(a).unit});default:return __("升级{subject}",{subject:i})}}(r))}},{title:__("支付时间"),dataIndex:"updated_at",width:150,className:Yr,render:function(e,t){return c.a.createElement(Lr.a,{time:t.order.updated_at})}},{title:__("支付金额"),dataIndex:"amount",width:120,className:Fr,render:function(e,t){return __("{amount} 元",{amount:parseFloat(t.order.amount)})}},{title:__("操作"),width:120,key:"actions",className:Vr,render:function(e,t){var r="USER_MEMBER_IAP_PAY"===t.type;return t.order.receipt?__("已申请发票"):r?c.a.createElement(Ze.a,{placement:"top",title:__("苹果支付渠道暂时不支持申请发票")},__("申请发票")):c.a.createElement(n.a,{type:"link",onClick:function(){return e=t.order,void _(e);var e}},__("申请发票"))}}],S=o.length<s&&{pageSize:50,current:h,total:s,onChange:function(e){v(e)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Sr.a,{rowKey:"id",className:Y()(Br,Wr({},Dr,0===o.length)),columns:x,dataSource:o,pagination:S,title:r?function(){return c.a.createElement("span",{className:Ur},__("支付历史"))}:null}),b&&c.a.createElement(jr.a,{visible:!0,onClose:function(){return _(null)},onConfirm:function(e,r){(0,e.form.validateFields)((function(e,n){e||P.a.userReceipts.create(Kr(Kr({},n),{},{type:p.RECEIPT_TYPES[r||"normal"],order_id:b.order_id,id:t.id})).then((function(e){u(o.map((function(t){return t.order.order_id===e.order_id&&(t.order.receipt=e),t}))),_(null),k.a.success(__("已成功提交发票申请"))}))}))},receipt:b.receipt,submited:!!b.receipt}),E&&c.a.createElement(Cr,{visible:!0,user:t,order:E,onClose:function(){return O(null)}}))}Qr.propTypes={user:l.a.object,showTitle:l.a.bool},Qr.defaultProps={showTitle:!0};var Xr=Qr;function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function en(e,t,r){return t=function(e){var t=function(e,t){if("object"!==$r(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$r(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nn(e){var t=e.user,r=e.showTitle,a=tn(Object(i.useState)([]),2),o=a[0],u=a[1],l=tn(Object(i.useState)(0),2),s=l[0],f=l[1],m=tn(Object(i.useState)(1),2),d=m[0],h=m[1],v=tn(Object(i.useState)(null),2),y=v[0],b=v[1];if(Object(i.useEffect)((function(){P.a.userReceipts.find({id:t.id,offset:50*(d-1),limit:50},{useOriginResp:!0}).then((function(e){u(e.data),f(e.meta.total)}))}),[d,t.id]),w.a.isGroupOrPublication(t)&&!o.length)return null;var _=[{title:__("发票类型"),dataIndex:"type",render:function(e,t,r){return e===p.RECEIPT_TYPES.normal?__("普通电子发票"):__("专用发票")}},{title:__("申请人"),dataIndex:"contact_name",className:Gr},{title:__("申请时间"),dataIndex:"created_at",className:Yr,render:function(e){return c.a.createElement(Lr.a,{time:e})}},{title:__("操作"),key:"actions",className:Vr,render:function(e,t){return c.a.createElement(n.a,{type:"link",onClick:function(){return b(t)}},__("查看发票信息"))}}],g=o.length<s&&{paegSize:50,current:d,total:s,onChange:function(e){h(e)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Sr.a,{rowKey:"id",className:Y()(Br,en({},Dr,0===o.length)),columns:_,dataSource:o,pagination:g,title:r?function(){return c.a.createElement("span",{className:Ur},__("发票管理"))}:null}),y&&c.a.createElement(jr.a,{visible:!0,onClose:function(){return b(null)},receipt:y,submited:y}))}nn.propTypes={user:l.a.object,showTitle:l.a.bool},nn.defaultProps={showTitle:!0};var an=nn,on=(r(868),r(837)),cn=r(909),un="DocNoteLimitIncentiveModal-module_modal_aJrQn",ln="DocNoteLimitIncentiveModal-module_content_oO6Wv",sn="DocNoteLimitIncentiveModal-module_memberCard_yo4QJ",fn="DocNoteLimitIncentiveModal-module_memberCardName_NaU7l",mn="DocNoteLimitIncentiveModal-module_memberCardCoreRight_xCY6c",dn="DocNoteLimitIncentiveModal-module_memberCardRight_ILEan",pn="DocNoteLimitIncentiveModal-module_footer_r2nm-",hn="DocNoteLimitIncentiveModal-module_footerAction_6SUEP",vn="DocNoteLimitIncentiveModal-module_actionBtn_3odCr";function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function bn(){bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var h={};u(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(h=y);var b=p.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==yn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new g(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function _n(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var En=function(e,t){var r=e.onConfirm,a=e.user,o=e.onShow,u=gn(Object(i.useState)(!1),2),l=u[0],s=u[1],h=gn(Object(i.useState)(!1),2),v=h[0],y=h[1],b=gn(Object(i.useState)({}),2),_=b[0],g=b[1],w=on.USER_SETTINGS_KEYS.INCENTIVE_FIRST_DOC_NOTE_COUNT_VISIBILITY,E=on.USER_SETTINGS_KEYS.USER_REGISTER_TRIAL,O=m.MEMBER_RULE.User[d.MEMBER_LEVEL.free][m.LIMIT_RULE_CODE.max_doc_note_number],x=function(){He.webProxy.mine.updateUserSettings({key:w,value:on.INCENTIVE_FIRST_DOC_NOTE_COUNT_VISIBILITY_VALUES.HIDE})},S=function(){s(!1),x()},L=function(){var e,t=(e=bn().mark((function e(){var t,r,n,i,c,u,l,m,d,p,h,v;return bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a&&a.id){e.next=2;break}return e.abrupt("return");case 2:if(r=window.location.pathname,n=window.appData,i=n.isDesktopApp,c=n.doc,u=n.organization,l=n.isYuque,!u&&l){e.next=6;break}return e.abrupt("return");case 6:if(i){e.next=11;break}if(m=(null==c?void 0:c.slug)&&!window.location.pathname.endsWith("/edit"),["/dashboard","/dashboard/recent","/dashboard/notes","/settings/member"].includes(r)||m){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,He.webProxy.mine.findOne();case 13:if(d=e.sent,!(p=null===(t=d.profile)||void 0===t?void 0:t.user_settings)[E]||p[E]===on.USER_REGISTER_TRIAL_VALUES.HIDE||!f()().isBefore(p[E])||i||!a.isTrial&&!f()().isAfter(d.expired_at)){e.next=20;break}if(!(f()().diff(f()(a.expired_at),"hours")>-24)){e.next=20;break}return y(!0),He.webProxy.mine.updateUserSettings({key:E,value:on.USER_REGISTER_TRIAL_VALUES.HIDE}),e.abrupt("return");case 20:if(h=d.incentive_first_at){e.next=23;break}return e.abrupt("return");case 23:if(!(f()().diff(f()(h),"days")>=15)){e.next=26;break}return e.abrupt("return");case 26:return g(d.incentive_tip),e.next=29,He.webProxy.mine.userSettings();case 29:(null==(v=e.sent)?void 0:v[w])===on.INCENTIVE_FIRST_DOC_NOTE_COUNT_VISIBILITY_VALUES.SHOW&&(s(!0),null==o||o());case 31:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_n(o,n,a,i,c,"next",e)}function c(e){_n(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(i.useImperativeHandle)(t,(function(){return{show:L}})),Object(i.useEffect)((function(){L()}),[]),v?c.a.createElement(cn.a,{visible:v,onClose:function(){y(!1)},showTrialExpire:!0,expiredAt:a.expired_at}):c.a.createElement(N.a,{className:un,visible:l,onCancel:S,header:null,footer:null,width:480,maskClosable:!1,closable:!0,centered:!0},c.a.createElement("div",{className:ln,"data-testid":"doc-note-limit-content"},c.a.createElement("h1",null,(null==_?void 0:_.title)||__("恭喜你获得 30 天会员奖励")),c.a.createElement("p",null,(null==_?void 0:_.description)||__("{limit} 篇文稿数成就达成，奖励你 30 天的语雀会员。会员享有以下权益，快去体验吧！",{limit:O})),c.a.createElement("div",{className:sn},c.a.createElement("div",{className:fn},c.a.createElement("span",null,__("语雀会员卡")),c.a.createElement(ee,{user:{member_level:d.MEMBER_LEVEL.member_level_1,memberLevelName:p.MEMBER_USER_AMOUNT_MAP[d.MEMBER_LEVEL.member_level_1].name,isPaid:!0}})),c.a.createElement("p",null,__("有效期至："),f()(a.expired_at||f()().add(1,"month").endOf("day")).format("YYYY-MM-DD")),c.a.createElement("div",{className:mn},__("核心权益")),c.a.createElement("p",{className:dn},__("无限文稿数")),c.a.createElement("p",{className:dn},__("无限知识库数")),c.a.createElement("p",{className:dn},__("更多格式、更大附件")),c.a.createElement("p",{className:dn},__("安全等知识库高级功能")),c.a.createElement("p",{className:dn},__("互联网公开")),c.a.createElement("p",{className:dn},__("公开我的花园"))),c.a.createElement("div",{className:pn},c.a.createElement("div",{className:hn},c.a.createElement(n.a,{"data-testid":"buy-button",className:vn,onClick:function(){s(!1),x(),r()}},__("立即延长会员")),c.a.createElement(n.a,{className:vn,onClick:S,type:"primary"},__("知道了"))))))};En.propTypes={user:l.a.object.isRequired,onConfirm:l.a.func,onShow:l.a.func};var On=Object(i.forwardRef)(En),xn=r(3159)},3160:function(e,t,r){var n=r(631),a=r(881),o=r(908),i=r(3234),c=r(3235),u=r(907),l=r(294);e.exports=function(e,t,r){if((e=l(e))&&(r||void 0===t))return a(e);if(!e||!(t=n(t)))return e;var s=u(e),f=u(t),m=c(s,f),d=i(s,f)+1;return o(s,m,d).join("")}},3161:function(e,t,r){var n=r(3233),a=r(289);e.exports=function(e){return e&&e.length?n(e,a):0}},3162:function(e,t,r){"use strict";r(183);var n=r(104),a=(r(61),r(23)),o=r(0),i=r.n(o),c=r(8),u=r.n(c),l=r(29),s=r.n(l),f=r(429),m=r(229),d=r(11),p=r.n(d),h=r(417),v=r(27),y=r(196),b=r(41),_=r(31),g="OrgCertification-module_wrap_mcHiA",w="OrgCertification-module_btn_veUok",E="OrgCertification-module_icon_mgkVd",O="OrgCertification-module_text_JDkK6",x="OrgCertification-module_main_umJwo",S="OrgCertification-module_disabled_DMrOf";function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r,c,u=e.showTip,l=e.className,f=e.organization,m=new URLSearchParams(window.location.search).get("showTip"),d=b.a.CERTIFICATION_TYPE_MAP,L=b.a.isExpired(f),j=N(Object(o.useState)(!1),2),k=j[0],P=j[1],T=N(Object(o.useState)(null),2),I=T[0],R=T[1],M=null==I?void 0:I.status;Object(o.useEffect)((function(){return m&&(clearTimeout(c),c=setTimeout((function(){P(!0),c=setTimeout((function(){return P(!1)}),5e3)}),1e3)),y.webProxy.organizations.certification({id:null==f?void 0:f.id}).then((function(e){return R(e)})),function(){return clearTimeout(c)}}),[]),Object(o.useEffect)((function(){u&&(P(!0),clearTimeout(c),c=setTimeout((function(){return P(!1)}),5e3))}),[u]);var A=function(){clearTimeout(c),c=P(!0)},C=function(){clearTimeout(c),c=setTimeout((function(){return P(!1)}),200)};switch(M){case h.STATUS.init:case h.STATUS.rejected:r=i.a.createElement("div",{className:x},i.a.createElement("div",{onMouseEnter:A,onMouseLeave:C},i.a.createElement(n.a,{placement:"topLeft",overlayInnerStyle:{maxWidth:"275px"},visible:k,arrowPointAtCenter:!0,content:i.a.createElement(i.a.Fragment,null,__("请上传公益材料（含营业执照、申请表）。"),i.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/gf443f",target:"_blank"},__("查看帮助")))},i.a.createElement(_.b,{name:"welfare-normal",width:16,height:16,className:p()(E,S)}),i.a.createElement(a.a,{className:w,type:"link",href:"/r/organizations/".concat(null==f?void 0:f.login,"/certification?goto=").concat(encodeURIComponent("".concat(window.location.origin).concat(window.location.pathname)))},__("上传公益资料")))));break;case h.STATUS.applying:r=i.a.createElement("div",{className:x,onMouseEnter:A,onMouseLeave:C},i.a.createElement(n.a,{placement:"topLeft",arrowPointAtCenter:!0,visible:k,content:i.a.createElement(i.a.Fragment,null,__("审核结果将在 7 个工作日内通过邮件和站内信通知。"),i.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/gf443f",target:"_blank"},__("查看帮助")))},i.a.createElement(_.b,{name:"welfare-normal",width:16,height:16,className:p()(E,S)}),i.a.createElement("span",{className:O},__("公益资料待审核"))));break;case h.STATUS.accepted:r=L?null:i.a.createElement(n.a,{placement:"topLeft",overlayClassName:l,arrowPointAtCenter:!0,content:i.a.createElement(i.a.Fragment,null,__("您已开通公益计划-{name}，有效期至 {date}。",{name:null===(t=d[null==f?void 0:f.certification_type])||void 0===t?void 0:t.name,date:s()(null==f?void 0:f.expired_at).format("YYYY-MM-DD")}),i.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/gf443f",target:"_blank"},__("查看帮助")))},i.a.createElement(_.b,{name:"welfare-normal",className:E,width:16,height:16}))}return f.certification_type===v.CERTIFICATION_TYPE.vip?i.a.createElement(_.b,{name:"welfare-normal",className:E,style:{marginLeft:"6px"},width:16,height:16}):(null==I?void 0:I.status)===h.STATUS.rejected?null:i.a.createElement("div",{className:p()(g,l)},r)}j.propTypes={showTip:u.a.bool,className:u.a.string,organization:u.a.any};t.a=Object(m.b)(Object(f.d)((function(e){return{organization:e.organization}}))(j))},3233:function(e,t){e.exports=function(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}},3234:function(e,t,r){var n=r(708);e.exports=function(e,t){for(var r=e.length;r--&&n(t,e[r],0)>-1;);return r}},3235:function(e,t,r){var n=r(708);e.exports=function(e,t){for(var r=-1,a=e.length;++r<a&&n(t,e[r],0)>-1;);return r}},3236:function(e,t,r){var n=r(137),a=r(538),o=r(598),i=r(294),c=n.isFinite,u=Math.min;e.exports=function(e){var t=Math[e];return function(e,r){if(e=o(e),(r=null==r?0:u(a(r),292))&&c(e)){var n=(i(e)+"e").split("e"),l=t(n[0]+"e"+(+n[1]+r));return+((n=(i(l)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}},3238:function(e,t,r){"use strict";var n=r(13),a=r(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},i=r(40),c=function(e,t){return a.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:o}))};c.displayName="VerticalAlignTopOutlined";t.a=a.forwardRef(c)},3378:function(e,t,r){"use strict";r.r(t);var n,a,o,i,c=r(0),u=r.n(c),l=r(8),s=r.n(l),f=r(429),m=r(67),d=r(3924),p=r(905),h=r(4392),v=r(229),y=r(3571);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=Object(m.useLocation)(),r=new URLSearchParams(t.search),n=r.get("view"),a=r.get("from"),o="doc_embed"===n||"servicify"===a,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return o&&(i.showSiteTip=!1,i.headRender=!1),(o||e.headless)&&(i.showIntranetSafeTip=!1),u.a.createElement(y.a,_({},i,{headRender:!1,footRender:!1,layoutName:"BookLayout"}))}E.defaultProps={showSiteTip:!0,showInstruction:!1,me:null===(n=window)||void 0===n||null===(a=n.appData)||void 0===a?void 0:a.me,organization:null===(o=window)||void 0===o||null===(i=o.appData)||void 0===i?void 0:i.organization},E.propTypes={children:s.a.node,footRender:s.a.any,headRender:s.a.any,headLeftRender:s.a.any,headCenterRender:s.a.any,headRightRender:s.a.any,sidebarRender:s.a.any,className:s.a.string,showInstruction:s.a.bool,showFeatureGuide:s.a.bool,showSiteTip:s.a.bool,showBackTop:s.a.bool,showIntranetSafeTip:s.a.bool,headless:s.a.bool,organization:s.a.object,isYuque:s.a.bool,me:s.a.object,error:s.a.object};var O=Object(v.b)(E),x=(r(4611),Object(p.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(9),r.e(20),r.e(1397)]).then(r.bind(null,5180))}),{suspense:!0})),S=Object(p.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(6),r.e(7),r.e(1395)]).then(r.bind(null,5181))}),{suspense:!0});function N(e){var t=e.history,r=e.doc,n=(null==r?void 0:r.type)||"Doc";return Object(d.a)("pagename","".concat(n.toLowerCase(),"_read")),u.a.createElement(p.a,null,u.a.createElement(h.a,{mark:"start-async-router-render"}),u.a.createElement(O,{history:t,showSiteTip:!1,showBackTop:!0},u.a.createElement(m.Switch,null,u.a.createElement(m.Route,{exact:!0,path:"/docs/share/:token",component:S}),u.a.createElement(m.Route,{exact:!0,path:["/__workers/r/online_viewer/preview_doc","/__workers/:group/:book/:doc","/books/share/:token/:doc_slug"],component:x}),u.a.createElement(m.Route,{exact:!0,path:["/:group/:book/:doc","/:group/:book/:doc/edit"],component:x}),u.a.createElement(m.Route,{exact:!0,path:"/:group/:book"},u.a.createElement(x,{isBookOverview:!0})),u.a.createElement(m.Route,{exact:!0,path:"/books/share/:token"},u.a.createElement(x,{isBookOverview:!0})))))}N.propTypes={history:s.a.object,doc:s.a.object};t.default=Object(f.d)((function(e){return{doc:e.doc}}))(N)},3552:function(e,t,r){"use strict";var n=r(318);t.a=n.a},3555:function(e,t){e.exports={ZOOM_LEVELS:["0.75","0.80","0.90","1.00","1.10","1.25","1.50","1.75","2.00"],DEFAULT_ZOOM_LEVEL:"1.00"}},3556:function(e,t,r){"use strict";r(95);var n=r(38),a=r(0),o=r.n(a),i=r(8),c=r.n(i),u=r(11),l=r.n(u),s=r(566),f=r(31),m=r(248),d=r(41),p=r(3563),h=r(71),v=r(58),y=r(53),b="MemberAbleIcon-module_lightIcon_wz4WU";function _(e){var t=e.className,r=e.width,a=e.height,i=e.organization,c=e.group,u=e.isYuque,_=e.code,g=e.memberLevel,w=void 0===g?h.MEMBER_LEVEL.member_level_1:g,E=e.light,O=e.noTooltip,x=e.isNavIcon;if(!u)return null;var S="en-us"===Object(s.b)();if(!i&&c&&"Group"===c.type)return null;var N,L,j,k=null==i?void 0:i.id,P=k?(N=_,(L=d.a.getFeatureBelongsPayment(N))===p.PAYMENT_TYPE.pro?__("专业版、旗舰版空间权益"):L===p.PAYMENT_TYPE.enterprise?__("旗舰版空间权益"):null):__("专业会员功能"),T=k?"/about/price#team":"/about/price",I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(m.getInterest)().interests[_]?null:v.ORG_PRO_FEATURE[_]?x?"nav-spacepayment-pro":e?"icon-spacepayment-en":"spacepayment-pro":v.ORG_ENTERPRISE_FEATURE[_]?x?"nav-spacepayment-business":e?"en-spacepayment-business":"spacepayment-business":null};if(j=S?k?I(!0):"icon-memberen":k?I():"icon-membernew",E&&!k){var R=w===h.MEMBER_LEVEL.member_level_1?__("会员"):__("超级会员");return o.a.createElement("div",{className:l()(b,t)},R)}return j?O?o.a.createElement(f.b,{className:t,name:j,width:r||48,height:a||16}):o.a.createElement(n.a,{title:o.a.createElement("div",null,P,o.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:T,target:"_blank","data-desktopTarget":"_browser",onClick:function(e){e.stopPropagation(),window.openExternalLink&&y.d&&(window.openExternalLink(T,!0),e.preventDefault())}},__("了解更多")))},o.a.createElement(f.b,{className:t,name:j,width:r||48,height:a||16})):null}_.propTypes={className:c.a.string,width:c.a.number,height:c.a.number,organization:c.a.object,group:c.a.object,isYuque:c.a.bool,code:c.a.string,memberLevel:c.a.number,light:c.a.bool,noTooltip:c.a.bool,isNavIcon:c.a.bool};t.a=_},3563:function(e,t,r){e.exports=r(27)},3564:function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n=r(0),a=r.n(n),o=r(8),i=r.n(o);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===c(o)?o:String(o)),n)}var a,o}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(i,e);var t,r,n,o=s(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className},this.props.children)}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.a.PureComponent);m.propTypes={className:i.a.string,children:i.a.node};var d=function(e){return function(t){return a.a.createElement(m,null,a.a.createElement(e,t))}};t.a=m},3565:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(8),i=r.n(o),c=r(11),u=r.n(c),l=r(836),s=r(3552),f=r(49),m=r(3564),d=r(35),p=window.appData,h=p.isDesktopApp,v=p.isAlipayWebApp,y=p.isDingTalkMiniApp,b=function(e){var t="/about/organization"===window.location.pathname,r=window.location.pathname===f.a.DOC.goto_note.url,n=a.a.useMemo((function(){return s.a.getFooterLinks(window.location)}),[]),o=window.appData.isAssistant;if(h)return null;if(v)return null;if(r)return null;if(y)return null;if(o)return null;var i=function(e){d.a.settings.switchMobileVersion({mobile_view:e}).then((function(){window.location.reload()}))},c=e.full,p=e.style,b=u()("footer",e.className,{"footer-full":c,"footer-theme-organization":t,"footer-h5":window.h5}),_=window.appData,g=_.organization,w=_.zone,E=!(!g||!g.id);return a.a.createElement(m.a,null,a.a.createElement("div",{id:"footer",className:b,style:p||{},"data-testid":"footer"},a.a.createElement("div",{className:"footer-container"},a.a.createElement("div",{className:"footer-container-sitemap"},!E&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"slogan","data-testid":"slogan"},a.a.createElement(l.d,{height:24,zone:w})),a.a.createElement("span",{className:"split"})),a.a.createElement("div",{className:"links","data-testid":"links"},n.map((function(e){return e.url?a.a.createElement("a",{key:e.name,href:e.url,target:e.target||"_blank","data-desktopTarget":"_browser",className:"link-primary"===e.type?"link-primary":""},e.name):"split"===e.type?a.a.createElement("span",{className:"split",key:e.name}):"link-with-effect"===e.type?a.a.createElement("a",{key:e.name,onClick:function(){var t;"switch-to-mobile"!==(t=e.action)?"switch-to-desktop"===t&&i("desktop"):i("mobile")},"data-testid":e.action},e.name):null})))),c&&!E&&a.a.createElement("div",{className:"copyright","data-testid":"copyright"},a.a.createElement("span",null,"© 语雀  经营许可证编号：合字B2-20190051"),a.a.createElement("span",null,"ICP备案号：",a.a.createElement("a",{href:"https://beian.miit.gov.cn/","data-desktopTarget":"_browser",target:"_blank"},"浙ICP备14032978号-13"))))))};b.propTypes={className:i.a.string,full:i.a.bool,style:i.a.object};t.default=b},3566:function(e,t,r){"use strict";r(3462);var n=r(3461);r(3458);t.a=n.a},3567:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(139),a=6048e5;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=!1;if(n.a.get(e)){var o=new Date(JSON.parse(n.a.get(e)));r=new Date-o<t}return r}function i(e){n.a.set(e,JSON.stringify(new Date))}},3568:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(11),i=r.n(o),c="index-module_head_XlCbf",u="index-module_headLeft_yVp5B",l="index-module_headLeftDesktop_lXy68",s="index-module_headCenter_M5VPO",f="index-module_headRight_i5BEo";function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){var t,r,n=e.headClassName,o=e.headLeftRender,m=e.headCenterRender,p=e.headRightRender,h=null===(t=window)||void 0===t||null===(r=t.desktopAppData)||void 0===r?void 0:r.isMac;return a.a.createElement("header",{className:i()(c,"layout-header",n)},a.a.createElement("div",{className:i()(u,"layout-header-left",d({},l,h))},o&&(null==o?void 0:o())),a.a.createElement("div",{className:i()(s,"layout-header-center")},m&&(null==m?void 0:m())),a.a.createElement("div",{className:i()(f,"layout-header-right")},p&&(null==p?void 0:p())))}},3571:function(e,t,r){"use strict";r.d(t,"b",(function(){return _t.b})),r.d(t,"c",(function(){return _t.c}));var n=r(0),a=r.n(n),o=r(53),i=r(43),c=r.n(i),u=r(3576),l=r.n(u),s=r(197),f=r(1499),m=r.n(f),d=r(3555),p=r(2864);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:O(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var y={};u(y,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(j([])));_&&_!==t&&r.call(_,o)&&(y=_);var g=p.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==h(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function y(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){y(o,n,a,i,c,"next",e)}function c(e){y(o,n,a,i,c,"throw",e)}i(void 0)}))}}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===h(o)?o:String(o)),n)}var a,o}var g=window.appData.isWin,w=new m.a({platform:g?"windows":"macOS"}),E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainWindow=t}var t,r,n,a;return t=e,r=[{key:"initKeyDown",value:(a=b(v().mark((function e(){var t,r,n,a,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.DEFAULT_SHORTCUT,e.next=3,null===(t=window.YuqueDesktopAppJSBridge)||void 0===t||null===(r=t.ipcInvoke)||void 0===r?void 0:r.call(t,{channel:o.a.SHORTCUT.GET_SHORTCUT,options:{shortcutKey:"showGlobalSearchModal"}});case 3:a=e.sent,i=[{shortcut:[w.convertForMousetrap(n.zoomIn)],handler:function(){var e=b(v().mark((function e(){var t,r,n,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor();case 2:t=e.sent.toFixed(2),r=d.ZOOM_LEVELS.findIndex((function(e){return e===t})),(n=d.ZOOM_LEVELS[r+1])&&window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(n)),(a=document.createEvent("Events")).initEvent(o.a.WEBVIEW.ZOOM,!1,!1),document.dispatchEvent(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{shortcut:[w.convertForMousetrap(n.zoomOut)],handler:function(){var e=b(v().mark((function e(){var t,r,n,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor();case 2:t=e.sent.toFixed(2),r=d.ZOOM_LEVELS.findIndex((function(e){return e===t})),r>=1&&(n=d.ZOOM_LEVELS[r-1],window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(n))),(a=document.createEvent("Events")).initEvent(o.a.WEBVIEW.ZOOM,!1,!1),document.dispatchEvent(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{shortcut:[w.convertForMousetrap(n.zoomReset)],handler:function(){var e=b(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(d.DEFAULT_ZOOM_LEVEL)),(r=document.createEvent("Events")).initEvent(o.a.WEBVIEW.ZOOM,!1,!1),document.dispatchEvent(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{shortcut:[w.convertForMousetrap(n.openSearchBar)],handler:function(){var e=b(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createEvent("Events")).initEvent(o.a.SEARCH.FIND_IN_PAGE,!1,!1),document.dispatchEvent(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{shortcut:[w.convertForMousetrap(a)],handler:function(){var e=b(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.d.emit(s.c);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{winKeys:["ctrl+shift+option+i"],macKeys:["ctrl+command+option+i"],handler:function(){window.YuqueDesktopAppJSBridge.ipcSend({channel:o.a.ELECTROM.OPEN_BOARD})}}],i.forEach((function(e){var t=e.shortcut;if(t&&t[0])l.a.bind(t,c()(e.handler,100,{leading:!0}));else{var r=g?e.winKeys:e.macKeys;r&&r.length>0&&l.a.bind(r,c()(e.handler,100,{leading:!0}))}}));case 6:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})}],r&&_(t.prototype,r),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),O=E,x=(r(409),r(11)),S=r.n(x),N=r(1886),L=r(1887),j="index-module_control_nTvLA",k="index-module_left_q7Jqr",P="index-module_icon_c83us",T="index-module_disable_KLfoX",I="index-module_percent_D6Pd9",R="index-module_right_BjuCU";function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(){C=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function m(){}function d(){}function p(){}var h={};u(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(h=y);var b=p.prototype=m.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(n,o,i,c){var u=s(e[n],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==M(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new g(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function B(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){B(o,n,a,i,c,"next",e)}function c(e){B(o,n,a,i,c,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F=d.ZOOM_LEVELS[0],G=d.ZOOM_LEVELS[d.ZOOM_LEVELS.length-1];var Y=function(){var e=U(Object(n.useState)(d.DEFAULT_ZOOM_LEVEL),2),t=e[0],r=e[1],i=U(Object(n.useState)(!1),2),u=i[0],l=i[1],s=c()((function(){l(!1)}),5e3),f=function(e){u||l(!0),r(e),s()},m=function(){var e=D(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor();case 2:t=e.sent.toFixed(2),f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=D(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor();case 2:t=e.sent,r(t),document.addEventListener(o.a.WEBVIEW.ZOOM,m,!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){document.removeEventListener(o.a.WEBVIEW.ZOOM,m)}}),[]);var p=function(){var e=D(C().mark((function e(){var t,r,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor().toFixed(2);case 2:t=e.sent,r=d.ZOOM_LEVELS.findIndex((function(e){return e===t})),(n=d.ZOOM_LEVELS[r+1])&&(window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(n)),f(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=D(C().mark((function e(){var t,r,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.YuqueDesktopAppJSBridge.getZoomFactor().toFixed(2);case 2:t=e.sent,r=d.ZOOM_LEVELS.findIndex((function(e){return e===t})),r>=1&&(n=d.ZOOM_LEVELS[r-1],window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(n)),f(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u?a.a.createElement("div",{className:j},a.a.createElement("div",{className:k},a.a.createElement(N.default,{width:20,height:20,className:S()(P,A({},T,t===F)),onClick:h}),a.a.createElement("span",{className:I},(100*parseFloat(t)).toFixed(0),"%"),a.a.createElement(L.default,{width:20,height:20,className:S()(P,A({},T,t===G)),onClick:p})),a.a.createElement("div",{className:R,onClick:function(){window.YuqueDesktopAppJSBridge.setZoomFactor(parseFloat(d.DEFAULT_ZOOM_LEVEL)),f(d.DEFAULT_ZOOM_LEVEL)}},__("重置"))):null},V=r(31),q="index-module_wrapper_qE3p3",Z="index-module_wrapperShow_u+tq6",K="index-module_searchBar_lILch",W="index-module_searchBarInput_K87wO",H="index-module_searchBarNumber_Kmn50",J="index-module_toolButton_ievwA",Q="index-module_icon_xnoIZ";function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oe(n.key),n)}}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ne(e);if(t){var a=ne(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}(this,r)}}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ae(e,t,r){return(t=oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(c,e);var t,r,n,i=te(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ae(re(e=i.call.apply(i,[this].concat(r))),"state",{matches:0,index:0,value:"",visible:!1}),ae(re(e),"findNext",!0),ae(re(e),"onShowSearchBar",(function(){var t;e.setState({visible:!0}),null===(t=e.searchBarElement)||void 0===t||t.focus()})),ae(re(e),"onCloseSearchBar",(function(){e.clearSearchBarValue(),e.setState({visible:!1})})),ae(re(e),"clearSearchBarValue",(function(){window.YuqueDesktopAppJSBridge.stopFindInPage("clearSelection"),e.searchBarElement&&(e.searchBarElement.value=""),e.setState({matches:0,index:0,value:""}),e.findNext=!0})),ae(re(e),"findInPage",(function(t){var r=t.forward,n=void 0!==r&&r,a=e.state.value;a&&(window.getSelection().empty(),e.searchBarElement&&(e.searchBarElement.style.display="none",e.searchInputBeforeElement.style.setProperty("--search-value",'"'.concat(a,'"'))),window.YuqueDesktopAppJSBridge.findInPage({text:a,options:{forward:n,findNext:e.findNext,matchCase:!0}}),e.findNext&&(e.findNext=!1))})),ae(re(e),"onClickPrev",(function(){e.findInPage({forward:!1})})),ae(re(e),"onClickNext",(function(){e.findInPage({forward:!0})})),ae(re(e),"bindOnSelectionChange",(function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.searchBarElement&&(e.searchBarElement.style.display="initial",e.searchInputBeforeElement.style.setProperty("--search-value",'""'));var n=r.matches,a=void 0===n?0:n,o=r.activeMatchOrdinal,i=void 0===o?0:o;e.setState({matches:a,index:i}),null===(t=e.searchBarElement)||void 0===t||t.focus()})),ae(re(e),"onInput",(function(t){var r=t.currentTarget.value;e.setState({value:r}),e.findNext=!0})),ae(re(e),"onKeyDown",(function(t){if(13===t.keyCode){if(!e.state.value)return void e.clearSearchBarValue();e.onClickNext()}27===t.keyCode&&e.onCloseSearchBar()})),ae(re(e),"foundInPage",(function(t){var r=t.matches,n=t.index;e.setState({index:n,matches:r})})),e}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this;this.ipcOnUnsubscriber=window.YuqueDesktopAppJSBridge.ipcOn({channel:o.a.CURRENT_WINDOW.FOUND_IN_PAGE_EVENT},(function(t,r){e.bindOnSelectionChange(r)})),document.addEventListener(o.a.SEARCH.FIND_IN_PAGE,this.onShowSearchBar,!1)}},{key:"componentWillUnmount",value:function(){var e;this.onCloseSearchBar(),document.removeEventListener(o.a.SEARCH.FIND_IN_PAGE,this.onShowSearchBar),null===(e=this.ipcOnUnsubscriber)||void 0===e||e.call(this)}},{key:"render",value:function(){var e=this,t=this.state,r=t.matches,n=t.index,o=t.value;return t.visible?a.a.createElement("div",{"data-testid":"wrapper",className:S()(q,ae({},Z,TextTrackCue))},a.a.createElement("div",{className:K},a.a.createElement("div",{className:W,ref:function(t){e.searchInputBeforeElement=t}},a.a.createElement("input",{onInput:this.onInput,onKeyDown:this.onKeyDown,value:o,"data-testid":"search-input",ref:function(t){e.searchBarElement=t}})),a.a.createElement("span",{className:H},"".concat(n," / ").concat(r))),a.a.createElement("div",{className:J},a.a.createElement(V.b,{name:"arrow-up",className:Q,"data-testid":"click-prev",onClick:this.onClickPrev}),a.a.createElement(V.b,{name:"arrow-down",className:Q,"data-testid":"click-next",onClick:this.onClickNext}),a.a.createElement(V.b,{name:"close",className:Q,"data-testid":"close-searchbar",onClick:this.onCloseSearchBar}))):null}}])&&$(t.prototype,r),n&&$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component),ce=ie,ue=(r(84),r(45));var le=function(){var e,t=(null===(e=window)||void 0===e?void 0:e.desktopAppData)||{},r=t.appConfig,a=r.productName,o=r.links,i=t.consts.event.IPC_EVENTS,c=Object(n.useRef)(!1),u=Object(n.useCallback)((function(){c.current||(c.current=!0,ue.a.confirm({width:437,title:__("更新提醒"),content:__("你的{productName}版本过旧，请尽快下载最新版使用",{productName:a}),onOk:function(){YuqueDesktopAppJSBridge.openExternalLink(o.download)},onCancel:function(){c.current=!1},okText:__("去下载"),cancelText:__("取消")}))}),[]);Object(n.useEffect)((function(){var e=window.YuqueDesktopAppJSBridge.ipcOn({channel:i.UPDATOR.ALERT_UPDATE},u);return function(){e(),c.current=!1}}),[])},se=r(3574);var fe=function(){Object(n.useEffect)((function(){var e=window.YuqueDesktopAppJSBridge.ipcOn({channel:o.a.SETTING.OPEN},(function(){window.YuqueDesktopAppJSBridge.ipcInvoke({channel:o.a.COMMON.OPEN_ONLINE_WINDOW,options:{url:"/setting",isLocal:!0,isSubapp:!0}})}));return function(){e()}}),[])};var me=function(){fe(),le(),Object(se.a)()},de=(r(3459),r(3123)),pe=r(8),he=r.n(pe),ve=r(429),ye=r(67),be=r(148),_e=r(146),ge=r(32);function we(e){if(Object(be.isPaidCheckAll)())return null;var t,r,n,o=window.appData,i=o.organization,c=o.group,u=void 0===c?{}:c,l=o.me,s=void 0===l?{}:l,f=null==i?void 0:i.id;if(i)t=__("联系管理员升级为专业版空间后可用"),!0===(null==i||null===(n=i.abilities)||void 0===n?void 0:n.destroy)&&(t=__("升级为专业版空间后可用"),r="/r/organizations/dashboard/cashier?action=buy&targetLevel=5&paySource=".concat(ge.LIMIT_SCENE.file_ext));else if(Object(_e.d)(u))t=Object(_e.f)(u)?__("知识小组内暂不支持此格式"):__("团队内暂不支持此格式");else if(u.id!==s.id&&window.appData.group)t=__("知识库所有者为会员时可上传");else{t=__("开通语雀会员后可用");var m="pay_source=file_ext";window.openExternalLink&&(m+="&pay_referer=desktop_app"),r="/settings/member?".concat(m,"#buy")}return a.a.createElement("div",{"data-testid":"video-remark"},t,!!r&&a.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:r,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(r,!0),e.preventDefault())}},f?__("立即升级"):__("立即开通")))}we.propTypes={isMiniEditor:he.a.bool};var Ee=r(3556),Oe=r(58);function xe(e){if(Object(be.isPaidCheckAll)())return null;var t,r,n,o=window.appData,i=o.organization,c=o.group,u=void 0===c?{}:c,l=o.me,s=void 0===l?{}:l;if(i)t=__("联系管理员升级为专业版空间后可用"),!0===(null==i||null===(n=i.abilities)||void 0===n?void 0:n.destroy)&&(t=__("升级为专业版空间后可用"),r="/r/organizations/dashboard/cashier?action=buy?targetLevel=5&paySource=".concat(ge.LIMIT_SCENE.file_embed));else if(u.id!==s.id&&window.appData.group)t=__("开通语雀会员，可享受文件嵌入功能");else{t=__("开通语雀会员，可享受文件嵌入功能");var f="pay_source=file_embed";window.openExternalLink&&(f+="&pay_referer=desktop_app"),r="/settings/member?".concat(f,"#renew")}return a.a.createElement("div",{"data-testid":"preview-tooltip",style:{whiteSpace:"nowrap",display:"flex"}},a.a.createElement("span",null,t," ",!!r&&a.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:r,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(r,!0),e.preventDefault())}},i?__("立即升级"):__("立即开通"))))}xe.propTypes={isMiniEditor:he.a.bool};r(61);var Se=r(23),Ne=r(75);function Le(e){var t,r,n,o,i=window.appData,c=i.organization,u=i.group,l=void 0===u?{}:u,s=i.me,f=void 0===s?{}:s,m=Object(be.isPaidCheckAll)();if(m&&c)return null;if(m&&"User"!==l.type)return null;if(m)return null;if(c)t=__("联系管理员升级付费空间，可享受智能翻译等功能优先体验权"),r=__("知道了"),!0===(null==c||null===(o=c.abilities)||void 0===o?void 0:o.destroy)&&(t=__("升级专业版、旗舰版空间可享受智能翻译等功能优先体验权"),r=__("升级付费版"),n="/r/organizations/dashboard/cashier?action=buy&targetLevel=5&paySource=".concat(ge.LIMIT_SCENE.translate));else if("Group"===l.type)t=__("知识小组内暂时不支持该功能"),r=__("知道了");else if(window.appData.group&&l.id!==f.id)l.id!==f.id&&(t=__("联系知识库所有者购买会员可享受智能翻译功能，自动进行中英文互译"),r=__("知道了"));else{t=__("购买会员可享受智能翻译功能，自动进行中英互译"),r=__("购买会员");var d="pay_source=translate";window.openExternalLink&&(d+="&pay_referer=desktop_app"),n="/settings/member?".concat(d,"#renew")}var p=null!=c&&c.id?ge.ORG_LIMIT_SPM.pay_limit:ge.LIMIT_SPM.pay_limit;return Object(Ne.spmClick)(p,{pay_source:ge.LIMIT_SCENE.translate,organization_id:(null==c?void 0:c.id)||0}),a.a.createElement("div",{"data-testid":"preview-translate",className:"translate-info"},a.a.createElement("div",{className:"translate-content"},a.a.createElement("img",{className:"translate-logo",src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*BDK-SoQSOGcAAAAAAAAAAAAAARQnAQ"}),a.a.createElement("h2",{className:"translate-title"},__("智能翻译")),a.a.createElement("div",{className:"translate-description"},t),a.a.createElement("div",null,n?a.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:n,target:"_blank",onClick:function(e){window.openExternalLink&&(window.openExternalLink(n,!0),e.preventDefault())}},a.a.createElement(Se.a,{type:"primary"},r)):a.a.createElement(Se.a,{type:"primary",onClick:e.onClose},r))))}Le.propTypes={onClose:he.a.func},Le.defaultPropTypes={onClose:function(){}};var je=r(3552),ke=r(3565),Pe=r(905),Te=Object(Pe.c)((function(){return r.e(1191).then(r.bind(null,5197))}),{suspense:!0}),Ie=Object(Pe.b)((function(){return r.e(1192).then(r.bind(null,5195))}),{suspense:!0}),Re=Object(Pe.c)((function(){return r.e(1193).then(r.bind(null,5205))}),{suspense:!0}),Me=Object(Pe.b)((function(){return r.e(1179).then(r.bind(null,5220))}),{suspense:!0});function Ae(e){var t=e.organization,r=e.me,o=t&&t.id&&(null==r?void 0:r.id),i="#welfare"===window.location.hash;return Object(n.useEffect)((function(){setTimeout((function(){o&&(Te.start(),Re.start())}),6e3)}),[o,i]),a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(Te,null),o&&a.a.createElement(Ie,null),o&&a.a.createElement(Re,null),o&&i&&a.a.createElement(Me,null))}var Ce=r(229),Be=r(3567);function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ze=Object(Pe.b)((function(){return Promise.all([r.e(5),r.e(15),r.e(1189)]).then(r.bind(null,4514))}),{suspense:!0});function Fe(e){var t=e.error,r=e.dispatch,o=De(Object(n.useState)(!1),2),i=o[0],c=o[1],u=De(Object(n.useState)(!1),2),l=u[0],s=u[1];return Object(n.useEffect)((function(){c(t.loginModalVisible),s(t.from),t.loginModalVisible&&Object(Ne.spmClick)("c320587.d345209")}),[t.loginModalVisible]),i?a.a.createElement(ze,{visible:i,from:l,onCancel:function(){"doc_reader"===t.from&&Object(Be.a)("doc_reader_login_modal"),r({type:"error/toggleLoginModal",payload:{visible:!i}})}}):null}var Ge=r(3573),Ye=(r(95),r(38)),Ve=(r(3458),r(3566)),qe=r(1885),Ze=Object(Pe.c)((function(){return r.e(1175).then(r.bind(null,5221))}),{suspense:!0}),Ke=Object(Pe.b)((function(){return r.e(1185).then(r.bind(null,5175))}),{suspense:!0}),We=Object(Pe.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(4),r.e(13),r.e(1197)]).then(r.bind(null,3961))}),{suspense:!0}),He=Object(Pe.b)((function(){return r.e(1186).then(r.bind(null,5222))}),{suspense:!0});function Je(e){var t=e.showBackTop,r=e.showFeatureGuide,o=(e.headless,e.showIntranetSafeTip),i=e.showSiteTip,c=e.showInstruction;Object(n.useEffect)((function(){setTimeout((function(){Ze.start()}),6e3)}),[]);var u=window.self!==window.top;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze,null),t&&a.a.createElement(Ve.a,{className:"default-back-top",visibilityHeight:2*window.innerHeight},a.a.createElement("div",null,a.a.createElement(Qe,{title:__("回到顶部"),placement:"left"},a.a.createElement("span",{className:"default-back-top-btn"},a.a.createElement(qe.default,{width:20}))))),i&&a.a.createElement(We,{showInstruction:c}),!window.h5&&!u&&!1!==r&&a.a.createElement(Ke,null),!o&&a.a.createElement(He,null))}var Qe=function(e){var t=e.children,r=e.title,n=e.placement;return window.h5?a.a.createElement(a.a.Fragment,null,t):a.a.createElement(Ye.a,{title:r,placement:n},t)},Xe=r(413),$e=r(869),et=r(139),tt=r(3575),rt="index-module_container_6Mjld",nt="index-module_content_MJzMt",at="index-module_action_Q6DuL";function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ct="GLOBAL_TOP_TIP_CLOSE_ID",ut=et.a.get(ct),lt=function(e){return"zh-cn"===window.appData.locale&&(!!e&&(!function(e){var t=window.appData.readTip;return!!t&&(t[e.type]||0)>=e.id}(e)&&(!ut||e.id>Number(ut))))},st=function(e){var t=e.dispatch,r=e.me,o=window.appData.topTip,i=ot(Object(n.useState)(lt(o)),2),c=i[0],u=i[1],l=Object($e.a)(null==o?void 0:o.content);return l&&c?a.a.createElement("div",{id:"site-top-tip",className:rt,"data-testid":"topTip"},a.a.createElement("div",{className:nt,dangerouslySetInnerHTML:{__html:l.content},"data-testid":"tipContent"}),a.a.createElement("div",{className:at},a.a.createElement(Xe.default,{"data-testid":"closeIcn",onClick:function(){u(!1),et.a.set(ct,o.id),tt.a.emit("top-tip-closed"),r&&r.id&&t({type:"proxy.web/mine.readTip",payload:{data:{id:o.id,type:o.type}}})}}))):null};st.propTypes={dispatch:he.a.func,me:he.a.object};var ft=Object(ve.d)((function(e){return{me:e.me}}))(st),mt=r(3568),dt="WebPureLayout-module_rightMainContent_88QOi",pt="WebPureLayout-module_rightMainContentChildren_hiyzf";function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}window.__neInjector=window.__neInjector||{},window.__neInjector.videoRemark=we,window.__neInjector.vipTooltip=function(){var e=window.appData.organization?__("专业版、旗舰版空间权益"):__("专业会员功能"),t="/about/price";return a.a.createElement("div",{"data-testid":"vip-tooltip","data-event-boundary":"overlay"},e,a.a.createElement("a",{style:{marginLeft:5},rel:"noreferrer",href:t,target:"_blank","data-desktopTarget":"_browser",onClick:function(e){e.stopPropagation(),window.openExternalLink&&o.d&&(window.openExternalLink(t,!0),e.preventDefault())}},__("了解更多")))},window.__neInjector.vipIcon=function(){var e=window.appData,t=e.organization,r=e.group,n=e.isYuque;return a.a.createElement(Ee.a,{isYuque:n,organization:t,group:r,code:Oe.ORG_PRO_FEATURE.book_statistics,noTooltip:!0})},window.__neInjector.embedTooltip=xe,window.__neInjector.translateContent=Le;var vt=function(e){var t,r=e.className,n=e.organization,i=e.showFeatureGuide,c=e.showIntranetSafeTip,u=void 0===c||c,l=e.showBackTop,s=e.showInstruction,f=e.me,m=e.error,d=(e.layoutName,e.persistCollapse,e.initCollapsed,e.showSiteTip),p=void 0===d||d,h=Object(ve.e)(),v=Object(ye.useHistory)(),y=e.headless||!1!==e.headless&&window!==window.top;(window.appData.isEnterprise||!0===window.appData.hideSiteTip||o.b)&&(p=!1),window.__member_message_ref=a.a.createRef(),window.__member_incentive_modal_ref=a.a.createRef();var b=a.a.useCallback((function(){return!1===e.footRender?null:"object"===ht(e.footRender)?e.footRender:void 0===e.footRender&&y?null:"function"==typeof e.footRender?e.footRender():a.a.createElement(ke.default,null)}),[e.footRender,y]),_=a.a.useCallback((function(){if(!1===e.headRender)return null;if(e.headRender&&"object"===ht(e.headRender))return e.headRender;if("function"==typeof e.headRender){var t=e.headRender();if(t)return t}return a.a.createElement(mt.a,e)}),[e.headRender]);return a.a.createElement(de.a,{autoInsertSpaceInButton:!1,locale:je.a.getAntdLocale(),iconPrefixCls:"larkui-icon"},a.a.createElement(ye.Router,{history:v},a.a.createElement(a.a.Fragment,null,y?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(Ce.a,{withFallbackUI:!0,isDesktopApp:!0},e.children)),b()):a.a.createElement("div",{className:S()("lark",r)},a.a.createElement(Ce.a,null,a.a.createElement(ft,null)),_(),null===(t=e.sidebarRender)||void 0===t?void 0:t.call(e),a.a.createElement("div",{className:S()("main-wrapper",e.mainClassName),style:e.mainStyle},a.a.createElement(Ce.a,{withFallbackUI:!0},a.a.createElement("div",{id:"main-right-content",className:S()(dt,"main-right-content")},a.a.createElement("div",{className:pt},e.children),b())))))),a.a.createElement(Fe,{error:m,dispatch:h}),a.a.createElement(Ae,{me:f,organization:n}),a.a.createElement(Ge.a,{me:f,dispatch:h}),a.a.createElement(Je,{showFeatureGuide:i,headless:y,showIntranetSafeTip:u,showSiteTip:p,showInstruction:s,showBackTop:l}))};vt.propTypes={children:he.a.node,footRender:he.a.any,headRender:he.a.any,headClassName:he.a.string,mainClassName:he.a.string,headLeftRender:he.a.any,headCenterRender:he.a.any,headRightRender:he.a.any,sidebarRender:he.a.any,className:he.a.string,showInstruction:he.a.bool,showFeatureGuide:he.a.bool,showSiteTip:he.a.bool,showBackTop:he.a.bool,showIntranetSafeTip:he.a.bool,headless:he.a.bool,pageTitle:he.a.string,organization:he.a.object,isYuque:he.a.bool,me:he.a.object,error:he.a.object,layoutName:he.a.string.isRequired},vt.defaultProps={showSiteTip:!0,showInstruction:!1};var yt=Object(Ce.b)(Object(ve.d)((function(e){return{error:e.error}}))(vt),!0),bt=function(e){return Object(n.useEffect)((function(){new O(undefined).initKeyDown()}),[]),me(),a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,null),a.a.createElement(ce,null),a.a.createElement(yt,e))},_t=r(374);t.a=function(e){return o.e?a.a.createElement(bt,e):a.a.createElement(yt,e)}},3573:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),a=r.n(n),o=r(32),i=r(3158),c=r(229);function u(e){var t=e.dispatch,r=e.me;return a.a.createElement(c.a,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(i.h,{dispatch:t,ref:window.__member_message_ref}),a.a.createElement(i.f,{user:r,onConfirm:function(){var e,t;null===(e=window.__member_message_ref)||void 0===e||null===(t=e.current)||void 0===t||t.showMemberIntro(o.LIMIT_SCENE.member_incentive,{isRenew:!1})},ref:window.__member_incentive_modal_ref})))}},3574:function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n=r(0),a=r(197),o=r(409),i=r(53);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function f(e,t,r,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:O(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(j([])));_&&_!==t&&r.call(_,o)&&(y=_);var g=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,u){var l=m(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==c(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,u)}),(function(e){a("throw",e,i,u)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,u)}))}u(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function O(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=m(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=m(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=v,n(g,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),s(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(f(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),s(g,l,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,c,"next",e)}function c(e){l(o,n,a,i,c,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(){var e=f(Object(n.useState)(YuqueDesktopAppJSBridge.getNetworkStatus()),2),t=e[0],r=e[1],c=function(){var e=s(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,"online"!==(n.length>0&&void 0!==n[0]?n[0]:"online")){e.next=6;break}return e.next=5,YuqueDesktopAppJSBridge.ipcInvoke(i.a.NETWORK.IS_PUBLIC_NETWORK_CONNECTED);case 5:t=e.sent;case 6:return r(t),a.d.emit(a.a,t),e.next=10,Object(o.c)({isOnline:t});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return r.apply(this,arguments)}function r(){return(r=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("online");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return a.apply(this,arguments)}function a(){return(a=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("offline");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),window.addEventListener("online",t),window.addEventListener("offline",n);var o=YuqueDesktopAppJSBridge.ipcOn(i.a.NETWORK.WINDOWS_WLAN_STATUS_CHANGED,function(){var e=s(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="wlan_notification_acm_disconnected"===r?"offline":"online",e.next=3,c(n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());return setInterval(s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YuqueDesktopAppJSBridge.getNetworkStatus()){e.next=4;break}return e.next=4,c("online");case 4:case"end":return e.stop()}}),e)}))),2e4),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n),o()}}),[]),t};t.a=d},3575:function(e,t,r){"use strict";var n=r(26),a=r.n(n);t.a=new a.a},3576:function(e,t,r){var n;!function(a,o,i){if(a){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},m=1;m<20;++m)u[111+m]="f"+m;for(m=0;m<=9;++m)u[m+96]=m.toString();_.prototype.bind=function(e,t,r){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,r),n},_.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},_.prototype.trigger=function(e,t){var r=this;return r._directMap[e+":"+t]&&r._directMap[e+":"+t]({},e),r},_.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},_.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},_.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},_.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},_.init=function(){var e=_(o);for(var t in e)"_"!==t.charAt(0)&&(_[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},_.init(),a.Mousetrap=_,e.exports&&(e.exports=_),void 0===(n=function(){return _}.call(t,r,t,e))||(e.exports=n)}function d(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function h(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,r){return r||(r=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function y(e,t){var r,n,a,o=[];for(r=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),a=0;a<r.length;++a)n=r[a],f[n]&&(n=f[n]),t&&"keypress"!=t&&s[n]&&(n=s[n],o.push("shift")),h(n)&&o.push(n);return{key:n,modifiers:o,action:t=v(n,o,t)}}function b(e,t){return null!==e&&e!==o&&(e===t||b(e.parentNode,t))}function _(e){var t=this;if(e=e||o,!(t instanceof _))return new _(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},a=!1,i=!1,c=!1;function u(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(c=!1)}function l(e,r,a,o,i,c){var u,l,s,f,m=[],d=a.type;if(!t._callbacks[e])return[];for("keyup"==d&&h(e)&&(r=[e]),u=0;u<t._callbacks[e].length;++u)if(l=t._callbacks[e][u],(o||!l.seq||n[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!a.metaKey&&!a.ctrlKey||(s=r,f=l.modifiers,s.sort().join(",")===f.sort().join(",")))){var p=!o&&l.combo==i,v=o&&l.seq==o&&l.level==c;(p||v)&&t._callbacks[e].splice(u,1),m.push(l)}return m}function s(e,r,n,a){t.stopCallback(r,r.target||r.srcElement,n,a)||!1===e(r,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(r))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=p(e);r&&("keyup"!=e.type||a!==r?t.handleKey(r,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):a=!1)}function m(e,t,o,i){function l(t){return function(){c=t,++n[e],clearTimeout(r),r=setTimeout(u,1e3)}}function f(t){s(o,t,e),"keyup"!==i&&(a=p(t)),setTimeout(u,10)}n[e]=0;for(var m=0;m<t.length;++m){var d=m+1===t.length?f:l(i||y(t[m+1]).action);v(t[m],d,i,e,m)}}function v(e,r,n,a,o){t._directMap[e+":"+n]=r;var i,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?m(e,c,r,n):(i=y(e,n),t._callbacks[i.key]=t._callbacks[i.key]||[],l(i.key,i.modifiers,{type:i.action},a,e,o),t._callbacks[i.key][a?"unshift":"push"]({callback:r,modifiers:i.modifiers,action:i.action,seq:a,level:o,combo:e}))}t._handleKey=function(e,t,r){var n,a=l(e,t,r),o={},f=0,m=!1;for(n=0;n<a.length;++n)a[n].seq&&(f=Math.max(f,a[n].level));for(n=0;n<a.length;++n)if(a[n].seq){if(a[n].level!=f)continue;m=!0,o[a[n].seq]=1,s(a[n].callback,r,a[n].combo,a[n].seq)}else m||s(a[n].callback,r,a[n].combo);var d="keypress"==r.type&&i;r.type!=c||h(e)||d||u(o),i=m&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)v(e[n],t,r)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},3924:function(e,t,r){"use strict";var n=r(0);t.a=function(e,t){Object(n.useEffect)((function(){var r=document.querySelector('meta[name="'.concat(e,'"]'));r?r.content=t:((r=document.createElement("meta")).name=e,r.content=t,document.head.appendChild(r))}),[e,t])}},4392:function(e,t,r){"use strict";var n=r(0),a=r(8),o=r.n(a),i=r(420),c=function(e){var t=e.mark;return Object(n.useEffect)((function(){Object(i.a)(t)}),[]),null};c.propTypes={mark:o.a.string.isRequired},t.a=c},4611:function(e,t,r){},85:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=(r(3237),r(632)),i=r(34),c=r.n(i),u=r(44),l=r.n(u),s=r(0),f=r.n(s),m=r(8),d=r.n(m),p=r(11),h=r.n(p),v=r(92),y=r.n(v),b=(r(368),["className"]),_=["className"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=f.a.forwardRef((function(e,t){var r=e.className,n=l()(e,b),a=h()("larkui-form",r);return f.a.createElement(o.a,c()({className:a,ref:t},n))}));E.propTypes=w(w({},o.a.CardProps),{},{className:d.a.string}),y()(E,o.a),E.Item=f.a.forwardRef((function(e,t){var r=e.className,n=l()(e,_),a=h()("larkui-form-item",r);return f.a.createElement(o.a.Item,c()({className:a,ref:t},n,{colon:!1}))})),t.a=E}}]);